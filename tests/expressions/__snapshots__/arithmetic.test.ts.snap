// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Arithmetic expressions Addition 1`] = `
"
        (
            template_id (static_id 0 (\\"arithmetic.test.ts\\" 73))
            storage (record (\\"arithmetic.test.ts\\" 75) (nat (variant \\"None\\" (unit) (\\"arithmetic.test.ts\\" 76))) (int (variant \\"None\\" (unit) (\\"arithmetic.test.ts\\" 77))) (mutez (variant \\"None\\" (unit) (\\"arithmetic.test.ts\\" 78))) (bls12_381_fr (variant \\"None\\" (unit) (\\"arithmetic.test.ts\\" 79))) (bls12_381_g1 (variant \\"None\\" (unit) (\\"arithmetic.test.ts\\" 80))) (bls12_381_g2 (variant \\"None\\" (unit) (\\"arithmetic.test.ts\\" 81))))
            storage_type ((unknown 0))
            messages ((ep1 True False False True (\\"arithmetic.test.ts\\" 85) ((set_type (params (\\"arithmetic.test.ts\\" 85)) \\"unit\\" (\\"arithmetic.test.ts\\" 133)) (set (attr (data) \\"nat\\" (\\"expression.ts\\" 28)) (variant \\"Some\\" (add (literal (nat 1) (\\"arithmetic.test.ts\\" 85)) (literal (nat 1) (\\"arithmetic.test.ts\\" 85)) (\\"arithmetic.test.ts\\" 85)) (\\"arithmetic.test.ts\\" 85)) (\\"arithmetic.test.ts\\" 85)))) (ep2 True False False True (\\"arithmetic.test.ts\\" 88) ((set_type (params (\\"arithmetic.test.ts\\" 88)) \\"unit\\" (\\"arithmetic.test.ts\\" 133)) (set (attr (data) \\"int\\" (\\"expression.ts\\" 28)) (variant \\"Some\\" (add (literal (int 1) (\\"arithmetic.test.ts\\" 88)) (literal (int 1) (\\"arithmetic.test.ts\\" 88)) (\\"arithmetic.test.ts\\" 88)) (\\"arithmetic.test.ts\\" 88)) (\\"arithmetic.test.ts\\" 88)))) (ep3 True False False True (\\"arithmetic.test.ts\\" 91) ((set_type (params (\\"arithmetic.test.ts\\" 91)) \\"unit\\" (\\"arithmetic.test.ts\\" 133)) (set (attr (data) \\"mutez\\" (\\"expression.ts\\" 28)) (variant \\"Some\\" (add (literal (mutez 1) (\\"arithmetic.test.ts\\" 91)) (literal (mutez 1) (\\"arithmetic.test.ts\\" 91)) (\\"arithmetic.test.ts\\" 91)) (\\"arithmetic.test.ts\\" 91)) (\\"arithmetic.test.ts\\" 91)))) (ep4 True False False True (\\"arithmetic.test.ts\\" 94) ((set_type (params (\\"arithmetic.test.ts\\" 94)) \\"unit\\" (\\"arithmetic.test.ts\\" 133)) (set (attr (data) \\"bls12_381_fr\\" (\\"expression.ts\\" 28)) (variant \\"Some\\" (add (literal (bls12_381_fr 1) (\\"arithmetic.test.ts\\" 94)) (literal (bls12_381_fr 1) (\\"arithmetic.test.ts\\" 94)) (\\"arithmetic.test.ts\\" 94)) (\\"arithmetic.test.ts\\" 94)) (\\"arithmetic.test.ts\\" 94)))) (ep5 True False False True (\\"arithmetic.test.ts\\" 99) ((set_type (params (\\"arithmetic.test.ts\\" 99)) \\"unit\\" (\\"arithmetic.test.ts\\" 133)) (set (attr (data) \\"bls12_381_g1\\" (\\"expression.ts\\" 28)) (variant \\"Some\\" (add (literal (bls12_381_g1 0x0572cbea904d67468808c8eb50a9450c9721db309128012543902d0ac358a62ae28f75bb8f1c7c42c39a8c5529bf0f4e166a9d8cabc673a322fda673779d8e3822ba3ecb8670e461f73bb9021d5fd76a4c56d9d4cd16bd1bba86881979749d28) (\\"arithmetic.test.ts\\" 99)) (literal (bls12_381_g1 0x0572cbea904d67468808c8eb50a9450c9721db309128012543902d0ac358a62ae28f75bb8f1c7c42c39a8c5529bf0f4e166a9d8cabc673a322fda673779d8e3822ba3ecb8670e461f73bb9021d5fd76a4c56d9d4cd16bd1bba86881979749d28) (\\"arithmetic.test.ts\\" 99)) (\\"arithmetic.test.ts\\" 99)) (\\"arithmetic.test.ts\\" 99)) (\\"arithmetic.test.ts\\" 99)))) (ep6 True False False True (\\"arithmetic.test.ts\\" 116) ((set_type (params (\\"arithmetic.test.ts\\" 116)) \\"unit\\" (\\"arithmetic.test.ts\\" 133)) (set (attr (data) \\"bls12_381_g2\\" (\\"expression.ts\\" 28)) (variant \\"Some\\" (add (literal (bls12_381_g2 0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb813fa4d4a0ad8b1ce186ed5061789213d993923066dddaf1040bc3ff59f825c78df74f2d75467e25e0f55f8a00fa030ed0d1b3cc2c7027888be51d9ef691d77bcb679afda66c73f17f9ee3837a55024f78c71363275a75d75d86bab79f74782aa) (\\"arithmetic.test.ts\\" 116)) (literal (bls12_381_g2 0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb813fa4d4a0ad8b1ce186ed5061789213d993923066dddaf1040bc3ff59f825c78df74f2d75467e25e0f55f8a00fa030ed0d1b3cc2c7027888be51d9ef691d77bcb679afda66c73f17f9ee3837a55024f78c71363275a75d75d86bab79f74782aa) (\\"arithmetic.test.ts\\" 116)) (\\"arithmetic.test.ts\\" 116)) (\\"arithmetic.test.ts\\" 116)) (\\"arithmetic.test.ts\\" 116)))))
            flags ()
            privates ()
            views ()
            entry_points_layout ()
            initial_metadata ()
            balance (literal (mutez 0) (\\"arithmetic.test.ts\\" 73))
        )
        "
`;

exports[`Arithmetic expressions Addition 2`] = `
"{
    \\"micheline\\": \\"parameter (or (or (unit %ep1) (or (unit %ep2) (unit %ep3))) (or (unit %ep4) (or (unit %ep5) (unit %ep6))));\\\\nstorage   (pair (pair (option %bls12_381_fr bls12_381_fr) (pair (option %bls12_381_g1 bls12_381_g1) (option %bls12_381_g2 bls12_381_g2))) (pair (option %int int) (pair (option %mutez mutez) (option %nat nat))));\\\\ncode\\\\n  {\\\\n    UNPAIR;\\\\n    IF_LEFT\\\\n      {\\\\n        IF_LEFT\\\\n          {\\\\n            DROP;\\\\n            PUSH nat 1;\\\\n            DUP;\\\\n            ADD;\\\\n            SOME;\\\\n            UPDATE 6;\\\\n          }\\\\n          {\\\\n            IF_LEFT\\\\n              {\\\\n                DROP;\\\\n                PUSH int 1;\\\\n                DUP;\\\\n                ADD;\\\\n                SOME;\\\\n                UPDATE 3;\\\\n              }\\\\n              {\\\\n                DROP;\\\\n                PUSH mutez 1;\\\\n                DUP;\\\\n                ADD;\\\\n                SOME;\\\\n                UPDATE 5;\\\\n              };\\\\n          };\\\\n      }\\\\n      {\\\\n        IF_LEFT\\\\n          {\\\\n            DROP;\\\\n            UNPAIR;\\\\n            CDR;\\\\n            PUSH bls12_381_fr 0x01;\\\\n            DUP;\\\\n            ADD;\\\\n            SOME;\\\\n            PAIR;\\\\n            PAIR;\\\\n          }\\\\n          {\\\\n            IF_LEFT\\\\n              {\\\\n                DROP;\\\\n                UNPAIR;\\\\n                UNPAIR;\\\\n                SWAP;\\\\n                CDR;\\\\n                PUSH bls12_381_g1 0x0572cbea904d67468808c8eb50a9450c9721db309128012543902d0ac358a62ae28f75bb8f1c7c42c39a8c5529bf0f4e166a9d8cabc673a322fda673779d8e3822ba3ecb8670e461f73bb9021d5fd76a4c56d9d4cd16bd1bba86881979749d28;\\\\n                DUP;\\\\n                ADD;\\\\n                SOME;\\\\n                PAIR;\\\\n                SWAP;\\\\n                PAIR;\\\\n                PAIR;\\\\n              }\\\\n              {\\\\n                DROP;\\\\n                UNPAIR;\\\\n                UNPAIR;\\\\n                SWAP;\\\\n                CAR;\\\\n                PUSH bls12_381_g2 0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb813fa4d4a0ad8b1ce186ed5061789213d993923066dddaf1040bc3ff59f825c78df74f2d75467e25e0f55f8a00fa030ed0d1b3cc2c7027888be51d9ef691d77bcb679afda66c73f17f9ee3837a55024f78c71363275a75d75d86bab79f74782aa;\\\\n                DUP;\\\\n                ADD;\\\\n                SOME;\\\\n                SWAP;\\\\n                PAIR;\\\\n                SWAP;\\\\n                PAIR;\\\\n                PAIR;\\\\n              };\\\\n          };\\\\n      };\\\\n    NIL operation;\\\\n    PAIR;\\\\n  };\\",
    \\"json\\": [
        {
            \\"prim\\": \\"storage\\",
            \\"args\\": [
                {
                    \\"prim\\": \\"pair\\",
                    \\"args\\": [
                        {
                            \\"prim\\": \\"pair\\",
                            \\"args\\": [
                                {
                                    \\"prim\\": \\"option\\",
                                    \\"args\\": [
                                        {
                                            \\"prim\\": \\"bls12_381_fr\\"
                                        }
                                    ],
                                    \\"annots\\": [
                                        \\"%bls12_381_fr\\"
                                    ]
                                },
                                {
                                    \\"prim\\": \\"pair\\",
                                    \\"args\\": [
                                        {
                                            \\"prim\\": \\"option\\",
                                            \\"args\\": [
                                                {
                                                    \\"prim\\": \\"bls12_381_g1\\"
                                                }
                                            ],
                                            \\"annots\\": [
                                                \\"%bls12_381_g1\\"
                                            ]
                                        },
                                        {
                                            \\"prim\\": \\"option\\",
                                            \\"args\\": [
                                                {
                                                    \\"prim\\": \\"bls12_381_g2\\"
                                                }
                                            ],
                                            \\"annots\\": [
                                                \\"%bls12_381_g2\\"
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            \\"prim\\": \\"pair\\",
                            \\"args\\": [
                                {
                                    \\"prim\\": \\"option\\",
                                    \\"args\\": [
                                        {
                                            \\"prim\\": \\"int\\"
                                        }
                                    ],
                                    \\"annots\\": [
                                        \\"%int\\"
                                    ]
                                },
                                {
                                    \\"prim\\": \\"pair\\",
                                    \\"args\\": [
                                        {
                                            \\"prim\\": \\"option\\",
                                            \\"args\\": [
                                                {
                                                    \\"prim\\": \\"mutez\\"
                                                }
                                            ],
                                            \\"annots\\": [
                                                \\"%mutez\\"
                                            ]
                                        },
                                        {
                                            \\"prim\\": \\"option\\",
                                            \\"args\\": [
                                                {
                                                    \\"prim\\": \\"nat\\"
                                                }
                                            ],
                                            \\"annots\\": [
                                                \\"%nat\\"
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            \\"prim\\": \\"parameter\\",
            \\"args\\": [
                {
                    \\"prim\\": \\"or\\",
                    \\"args\\": [
                        {
                            \\"prim\\": \\"or\\",
                            \\"args\\": [
                                {
                                    \\"prim\\": \\"unit\\",
                                    \\"annots\\": [
                                        \\"%ep1\\"
                                    ]
                                },
                                {
                                    \\"prim\\": \\"or\\",
                                    \\"args\\": [
                                        {
                                            \\"prim\\": \\"unit\\",
                                            \\"annots\\": [
                                                \\"%ep2\\"
                                            ]
                                        },
                                        {
                                            \\"prim\\": \\"unit\\",
                                            \\"annots\\": [
                                                \\"%ep3\\"
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            \\"prim\\": \\"or\\",
                            \\"args\\": [
                                {
                                    \\"prim\\": \\"unit\\",
                                    \\"annots\\": [
                                        \\"%ep4\\"
                                    ]
                                },
                                {
                                    \\"prim\\": \\"or\\",
                                    \\"args\\": [
                                        {
                                            \\"prim\\": \\"unit\\",
                                            \\"annots\\": [
                                                \\"%ep5\\"
                                            ]
                                        },
                                        {
                                            \\"prim\\": \\"unit\\",
                                            \\"annots\\": [
                                                \\"%ep6\\"
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            \\"prim\\": \\"code\\",
            \\"args\\": [
                [
                    {
                        \\"prim\\": \\"UNPAIR\\"
                    },
                    {
                        \\"prim\\": \\"IF_LEFT\\",
                        \\"args\\": [
                            [
                                {
                                    \\"prim\\": \\"IF_LEFT\\",
                                    \\"args\\": [
                                        [
                                            {
                                                \\"prim\\": \\"DROP\\"
                                            },
                                            {
                                                \\"prim\\": \\"PUSH\\",
                                                \\"args\\": [
                                                    {
                                                        \\"prim\\": \\"nat\\"
                                                    },
                                                    {
                                                        \\"int\\": \\"1\\"
                                                    }
                                                ]
                                            },
                                            {
                                                \\"prim\\": \\"DUP\\"
                                            },
                                            {
                                                \\"prim\\": \\"ADD\\"
                                            },
                                            {
                                                \\"prim\\": \\"SOME\\"
                                            },
                                            {
                                                \\"prim\\": \\"UPDATE\\",
                                                \\"args\\": [
                                                    {
                                                        \\"int\\": \\"6\\"
                                                    }
                                                ]
                                            }
                                        ],
                                        [
                                            {
                                                \\"prim\\": \\"IF_LEFT\\",
                                                \\"args\\": [
                                                    [
                                                        {
                                                            \\"prim\\": \\"DROP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"PUSH\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"prim\\": \\"int\\"
                                                                },
                                                                {
                                                                    \\"int\\": \\"1\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"DUP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"ADD\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"SOME\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"UPDATE\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"int\\": \\"3\\"
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    [
                                                        {
                                                            \\"prim\\": \\"DROP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"PUSH\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"prim\\": \\"mutez\\"
                                                                },
                                                                {
                                                                    \\"int\\": \\"1\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"DUP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"ADD\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"SOME\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"UPDATE\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"int\\": \\"5\\"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                ]
                                            }
                                        ]
                                    ]
                                }
                            ],
                            [
                                {
                                    \\"prim\\": \\"IF_LEFT\\",
                                    \\"args\\": [
                                        [
                                            {
                                                \\"prim\\": \\"DROP\\"
                                            },
                                            {
                                                \\"prim\\": \\"UNPAIR\\"
                                            },
                                            {
                                                \\"prim\\": \\"CDR\\"
                                            },
                                            {
                                                \\"prim\\": \\"PUSH\\",
                                                \\"args\\": [
                                                    {
                                                        \\"prim\\": \\"bls12_381_fr\\"
                                                    },
                                                    {
                                                        \\"bytes\\": \\"01\\"
                                                    }
                                                ]
                                            },
                                            {
                                                \\"prim\\": \\"DUP\\"
                                            },
                                            {
                                                \\"prim\\": \\"ADD\\"
                                            },
                                            {
                                                \\"prim\\": \\"SOME\\"
                                            },
                                            {
                                                \\"prim\\": \\"PAIR\\"
                                            },
                                            {
                                                \\"prim\\": \\"PAIR\\"
                                            }
                                        ],
                                        [
                                            {
                                                \\"prim\\": \\"IF_LEFT\\",
                                                \\"args\\": [
                                                    [
                                                        {
                                                            \\"prim\\": \\"DROP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"UNPAIR\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"UNPAIR\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"SWAP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"CDR\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"PUSH\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"prim\\": \\"bls12_381_g1\\"
                                                                },
                                                                {
                                                                    \\"bytes\\": \\"0572cbea904d67468808c8eb50a9450c9721db309128012543902d0ac358a62ae28f75bb8f1c7c42c39a8c5529bf0f4e166a9d8cabc673a322fda673779d8e3822ba3ecb8670e461f73bb9021d5fd76a4c56d9d4cd16bd1bba86881979749d28\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"DUP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"ADD\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"SOME\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"PAIR\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"SWAP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"PAIR\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"PAIR\\"
                                                        }
                                                    ],
                                                    [
                                                        {
                                                            \\"prim\\": \\"DROP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"UNPAIR\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"UNPAIR\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"SWAP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"CAR\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"PUSH\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"prim\\": \\"bls12_381_g2\\"
                                                                },
                                                                {
                                                                    \\"bytes\\": \\"13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb813fa4d4a0ad8b1ce186ed5061789213d993923066dddaf1040bc3ff59f825c78df74f2d75467e25e0f55f8a00fa030ed0d1b3cc2c7027888be51d9ef691d77bcb679afda66c73f17f9ee3837a55024f78c71363275a75d75d86bab79f74782aa\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"DUP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"ADD\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"SOME\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"SWAP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"PAIR\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"SWAP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"PAIR\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"PAIR\\"
                                                        }
                                                    ]
                                                ]
                                            }
                                        ]
                                    ]
                                }
                            ]
                        ]
                    },
                    {
                        \\"prim\\": \\"NIL\\",
                        \\"args\\": [
                            {
                                \\"prim\\": \\"operation\\"
                            }
                        ]
                    },
                    {
                        \\"prim\\": \\"PAIR\\"
                    }
                ]
            ]
        }
    ],
    \\"smartpy\\": \\"import smartpy as sp\\\\n\\\\nclass Contract(sp.Contract):\\\\n  def __init__(self):\\\\n    self.init_type(sp.TRecord(bls12_381_fr = sp.TOption(sp.TBls12_381_fr), bls12_381_g1 = sp.TOption(sp.TBls12_381_g1), bls12_381_g2 = sp.TOption(sp.TBls12_381_g2), int = sp.TOption(sp.TInt), mutez = sp.TOption(sp.TMutez), nat = sp.TOption(sp.TNat)).layout(((\\\\\\"bls12_381_fr\\\\\\", (\\\\\\"bls12_381_g1\\\\\\", \\\\\\"bls12_381_g2\\\\\\")), (\\\\\\"int\\\\\\", (\\\\\\"mutez\\\\\\", \\\\\\"nat\\\\\\")))))\\\\n    self.init(bls12_381_fr = sp.none,\\\\n              bls12_381_g1 = sp.none,\\\\n              bls12_381_g2 = sp.none,\\\\n              int = sp.none,\\\\n              mutez = sp.none,\\\\n              nat = sp.none)\\\\n\\\\n  @sp.entry_point\\\\n  def ep1(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data.nat = sp.some(1 + 1)\\\\n\\\\n  @sp.entry_point\\\\n  def ep2(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data.int = sp.some(1 + 1)\\\\n\\\\n  @sp.entry_point\\\\n  def ep3(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data.mutez = sp.some(sp.mutez(1) + sp.mutez(1))\\\\n\\\\n  @sp.entry_point\\\\n  def ep4(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data.bls12_381_fr = sp.some(sp.bls12_381_fr('0x01') + sp.bls12_381_fr('0x01'))\\\\n\\\\n  @sp.entry_point\\\\n  def ep5(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data.bls12_381_g1 = sp.some(sp.bls12_381_g1('0x0572cbea904d67468808c8eb50a9450c9721db309128012543902d0ac358a62ae28f75bb8f1c7c42c39a8c5529bf0f4e166a9d8cabc673a322fda673779d8e3822ba3ecb8670e461f73bb9021d5fd76a4c56d9d4cd16bd1bba86881979749d28') + sp.bls12_381_g1('0x0572cbea904d67468808c8eb50a9450c9721db309128012543902d0ac358a62ae28f75bb8f1c7c42c39a8c5529bf0f4e166a9d8cabc673a322fda673779d8e3822ba3ecb8670e461f73bb9021d5fd76a4c56d9d4cd16bd1bba86881979749d28'))\\\\n\\\\n  @sp.entry_point\\\\n  def ep6(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data.bls12_381_g2 = sp.some(sp.bls12_381_g2('0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb813fa4d4a0ad8b1ce186ed5061789213d993923066dddaf1040bc3ff59f825c78df74f2d75467e25e0f55f8a00fa030ed0d1b3cc2c7027888be51d9ef691d77bcb679afda66c73f17f9ee3837a55024f78c71363275a75d75d86bab79f74782aa') + sp.bls12_381_g2('0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb813fa4d4a0ad8b1ce186ed5061789213d993923066dddaf1040bc3ff59f825c78df74f2d75467e25e0f55f8a00fa030ed0d1b3cc2c7027888be51d9ef691d77bcb679afda66c73f17f9ee3837a55024f78c71363275a75d75d86bab79f74782aa'))\\\\n\\\\nsp.add_compilation_target(\\\\\\"visualtez_compilation\\\\\\", Contract())\\"
}"
`;

exports[`Arithmetic expressions Compute Median 1`] = `
"
        (
            template_id (static_id 0 (\\"arithmetic.test.ts\\" 240))
            storage ()
            storage_type (\\"nat\\")
            messages ((ep1 True False False True (\\"arithmetic.test.ts\\" 243) ((set_type (params (\\"arithmetic.test.ts\\" 243)) \\"unit\\" (\\"arithmetic.test.ts\\" 249)) (set (data) (call_lambda (lambda 1 None False \\"lambda_arg\\" (\\"arithmetic.test.ts\\" 243) ((defineLocal \\"hist\\" (map (\\"arithmetic.test.ts\\" 243) ) True (\\"arithmetic.test.ts\\" 243)) (forGroup \\"__ITERATOR_FOREACH_1__\\" (lambdaParams 1 \\"lambda_arg\\" (\\"arithmetic.test.ts\\" 243) (unknown 0)) ((ifBlock (contains (getLocal \\"hist\\" (\\"arithmetic.test.ts\\" 243)) (iter \\"__ITERATOR_FOREACH_1__\\" (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) ((set (getItem (getLocal \\"hist\\" (\\"arithmetic.test.ts\\" 243)) (iter \\"__ITERATOR_FOREACH_1__\\" (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) (add (getItem (getLocal \\"hist\\" (\\"arithmetic.test.ts\\" 243)) (iter \\"__ITERATOR_FOREACH_1__\\" (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) (literal (nat 1) (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243))) (\\"arithmetic.test.ts\\" 243)) (elseBlock ((set (getItem (getLocal \\"hist\\" (\\"arithmetic.test.ts\\" 243)) (iter \\"__ITERATOR_FOREACH_1__\\" (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) (literal (nat 1) (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243))))) (\\"arithmetic.test.ts\\" 243)) (defineLocal \\"list_size\\" (size (lambdaParams 1 \\"lambda_arg\\" (\\"arithmetic.test.ts\\" 243) (unknown 0)) (\\"arithmetic.test.ts\\" 243)) True (\\"arithmetic.test.ts\\" 243)) (defineLocal \\"result\\" (literal (nat 0) (\\"arithmetic.test.ts\\" 243)) True (\\"arithmetic.test.ts\\" 243)) (defineLocal \\"half\\" (truediv (getLocal \\"list_size\\" (\\"arithmetic.test.ts\\" 243)) (literal (nat 2) (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) True (\\"arithmetic.test.ts\\" 243)) (defineLocal \\"use_average\\" (eq (mul_overloaded (getLocal \\"half\\" (\\"arithmetic.test.ts\\" 243)) (literal (nat 2) (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) (getLocal \\"list_size\\" (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) True (\\"arithmetic.test.ts\\" 243)) (defineLocal \\"i\\" (literal (nat 0) (\\"arithmetic.test.ts\\" 243)) True (\\"arithmetic.test.ts\\" 243)) (forGroup \\"__ITERATOR_FOREACH_2__\\" (items (getLocal \\"hist\\" (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) ((ifBlock (getLocal \\"use_average\\" (\\"arithmetic.test.ts\\" 243)) ((ifBlock (lt (getLocal \\"i\\" (\\"arithmetic.test.ts\\" 243)) (getLocal \\"half\\" (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) ((set (getLocal \\"result\\" (\\"arithmetic.test.ts\\" 243)) (attr (iter \\"__ITERATOR_FOREACH_2__\\" (\\"arithmetic.test.ts\\" 243)) \\"key\\" (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) (set (getLocal \\"i\\" (\\"arithmetic.test.ts\\" 243)) (add (getLocal \\"i\\" (\\"arithmetic.test.ts\\" 243)) (attr (iter \\"__ITERATOR_FOREACH_2__\\" (\\"arithmetic.test.ts\\" 243)) \\"value\\" (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) (ifBlock (gt (getLocal \\"i\\" (\\"arithmetic.test.ts\\" 243)) (getLocal \\"half\\" (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) ((set (getLocal \\"use_average\\" (\\"arithmetic.test.ts\\" 243)) (literal (bool False) (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243))) (\\"arithmetic.test.ts\\" 243))) (\\"arithmetic.test.ts\\" 243)) (elseBlock ((set (getLocal \\"result\\" (\\"arithmetic.test.ts\\" 243)) (add (getLocal \\"result\\" (\\"arithmetic.test.ts\\" 243)) (attr (iter \\"__ITERATOR_FOREACH_2__\\" (\\"arithmetic.test.ts\\" 243)) \\"key\\" (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) (set (getLocal \\"result\\" (\\"arithmetic.test.ts\\" 243)) (truediv (getLocal \\"result\\" (\\"arithmetic.test.ts\\" 243)) (literal (nat 2) (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) (set (getLocal \\"use_average\\" (\\"arithmetic.test.ts\\" 243)) (literal (bool False) (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) (set (getLocal \\"i\\" (\\"arithmetic.test.ts\\" 243)) (add (getLocal \\"i\\" (\\"arithmetic.test.ts\\" 243)) (attr (iter \\"__ITERATOR_FOREACH_2__\\" (\\"arithmetic.test.ts\\" 243)) \\"value\\" (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243))))) (\\"arithmetic.test.ts\\" 243)) (elseBlock ((ifBlock (le (getLocal \\"i\\" (\\"arithmetic.test.ts\\" 243)) (getLocal \\"half\\" (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) ((set (getLocal \\"result\\" (\\"arithmetic.test.ts\\" 243)) (attr (iter \\"__ITERATOR_FOREACH_2__\\" (\\"arithmetic.test.ts\\" 243)) \\"key\\" (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) (set (getLocal \\"i\\" (\\"arithmetic.test.ts\\" 243)) (add (getLocal \\"i\\" (\\"arithmetic.test.ts\\" 243)) (attr (iter \\"__ITERATOR_FOREACH_2__\\" (\\"arithmetic.test.ts\\" 243)) \\"value\\" (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243))) (\\"arithmetic.test.ts\\" 243))))) (\\"arithmetic.test.ts\\" 243)) (result (getLocal \\"result\\" (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)))) (list (\\"arithmetic.test.ts\\" 243) (literal (nat 1) (\\"arithmetic.test.ts\\" 243)) (literal (nat 2) (\\"arithmetic.test.ts\\" 243)) (literal (nat 3) (\\"arithmetic.test.ts\\" 243))) (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) (verify (eq (data) (literal (nat 2) (\\"arithmetic.test.ts\\" 243)) (\\"arithmetic.test.ts\\" 243)) (unit) (\\"arithmetic.test.ts\\" 243)))))
            flags ()
            privates ()
            views ()
            entry_points_layout ()
            initial_metadata ()
            balance (literal (mutez 0) (\\"arithmetic.test.ts\\" 240))
        )
        "
`;

exports[`Arithmetic expressions Compute Median 2`] = `
"{
    \\"micheline\\": \\"parameter (unit %ep1);\\\\nstorage   nat;\\\\ncode\\\\n  {\\\\n    DROP;\\\\n    LAMBDA\\\\n      (list nat)\\\\n      nat\\\\n      {\\\\n        DUP;\\\\n        EMPTY_MAP nat nat;\\\\n        SWAP;\\\\n        ITER\\\\n          {\\\\n            SWAP;\\\\n            DUP;\\\\n            DUG 2;\\\\n            SWAP;\\\\n            DUP;\\\\n            DUG 2;\\\\n            MEM;\\\\n            IF\\\\n              {\\\\n                SWAP;\\\\n                DUP;\\\\n                DIG 2;\\\\n                DUP;\\\\n                DUG 2;\\\\n                GET;\\\\n                IF_NONE\\\\n                  {\\\\n                    PUSH int 243;\\\\n                    FAILWITH;\\\\n                  }\\\\n                  {};\\\\n                PUSH nat 1;\\\\n                ADD;\\\\n                SOME;\\\\n                SWAP;\\\\n                UPDATE;\\\\n              }\\\\n              {\\\\n                SWAP;\\\\n                PUSH (option nat) (Some 1);\\\\n                DIG 2;\\\\n                UPDATE;\\\\n              };\\\\n          };\\\\n        SWAP;\\\\n        DUP;\\\\n        DUG 2;\\\\n        SIZE;\\\\n        PUSH nat 0;\\\\n        PUSH nat 2;\\\\n        DUP 3;\\\\n        EDIV;\\\\n        IF_NONE\\\\n          {\\\\n            PUSH int 243;\\\\n            FAILWITH;\\\\n          }\\\\n          {\\\\n            CAR;\\\\n          };\\\\n        DUP 3;\\\\n        PUSH nat 2;\\\\n        DUP 3;\\\\n        MUL;\\\\n        COMPARE;\\\\n        EQ;\\\\n        PUSH nat 0;\\\\n        DUP 6;\\\\n        ITER\\\\n          {\\\\n            DUP 3;\\\\n            IF\\\\n              {\\\\n                DUP 4;\\\\n                DUP 3;\\\\n                COMPARE;\\\\n                LT;\\\\n                IF\\\\n                  {\\\\n                    DIG 4;\\\\n                    DROP;\\\\n                    DUP;\\\\n                    CAR;\\\\n                    DUG 4;\\\\n                    DUP;\\\\n                    DUG 2;\\\\n                    CDR;\\\\n                    ADD;\\\\n                    SWAP;\\\\n                    DUP 4;\\\\n                    DUP 3;\\\\n                    COMPARE;\\\\n                    GT;\\\\n                    IF\\\\n                      {\\\\n                        DIG 2;\\\\n                        DROP 2;\\\\n                        PUSH bool False;\\\\n                        SWAP;\\\\n                      }\\\\n                      {\\\\n                        DROP;\\\\n                      };\\\\n                  }\\\\n                  {\\\\n                    DIG 2;\\\\n                    DROP;\\\\n                    DIG 3;\\\\n                    SWAP;\\\\n                    DUP;\\\\n                    DUG 2;\\\\n                    CAR;\\\\n                    ADD;\\\\n                    PUSH nat 2;\\\\n                    SWAP;\\\\n                    EDIV;\\\\n                    IF_NONE\\\\n                      {\\\\n                        PUSH int 243;\\\\n                        FAILWITH;\\\\n                      }\\\\n                      {\\\\n                        CAR;\\\\n                      };\\\\n                    DUG 3;\\\\n                    PUSH bool False;\\\\n                    DUG 2;\\\\n                    CDR;\\\\n                    ADD;\\\\n                  };\\\\n              }\\\\n              {\\\\n                DUP 4;\\\\n                DUP 3;\\\\n                COMPARE;\\\\n                LE;\\\\n                IF\\\\n                  {\\\\n                    DIG 4;\\\\n                    DROP;\\\\n                    DUP;\\\\n                    CAR;\\\\n                    DUG 4;\\\\n                    CDR;\\\\n                    ADD;\\\\n                  }\\\\n                  {\\\\n                    DROP;\\\\n                  };\\\\n              };\\\\n          };\\\\n        DROP 3;\\\\n        SWAP;\\\\n        DROP;\\\\n        SWAP;\\\\n        DROP;\\\\n        SWAP;\\\\n        DROP;\\\\n      };\\\\n    PUSH (list nat) {1; 2; 3};\\\\n    EXEC;\\\\n    DUP;\\\\n    PUSH nat 2;\\\\n    COMPARE;\\\\n    EQ;\\\\n    IF\\\\n      {}\\\\n      {\\\\n        UNIT;\\\\n        FAILWITH;\\\\n      };\\\\n    NIL operation;\\\\n    PAIR;\\\\n  };\\",
    \\"json\\": [
        {
            \\"prim\\": \\"storage\\",
            \\"args\\": [
                {
                    \\"prim\\": \\"nat\\"
                }
            ]
        },
        {
            \\"prim\\": \\"parameter\\",
            \\"args\\": [
                {
                    \\"prim\\": \\"unit\\",
                    \\"annots\\": [
                        \\"%ep1\\"
                    ]
                }
            ]
        },
        {
            \\"prim\\": \\"code\\",
            \\"args\\": [
                [
                    {
                        \\"prim\\": \\"DROP\\"
                    },
                    {
                        \\"prim\\": \\"LAMBDA\\",
                        \\"args\\": [
                            {
                                \\"prim\\": \\"list\\",
                                \\"args\\": [
                                    {
                                        \\"prim\\": \\"nat\\"
                                    }
                                ]
                            },
                            {
                                \\"prim\\": \\"nat\\"
                            },
                            [
                                {
                                    \\"prim\\": \\"DUP\\"
                                },
                                {
                                    \\"prim\\": \\"EMPTY_MAP\\",
                                    \\"args\\": [
                                        {
                                            \\"prim\\": \\"nat\\"
                                        },
                                        {
                                            \\"prim\\": \\"nat\\"
                                        }
                                    ]
                                },
                                {
                                    \\"prim\\": \\"SWAP\\"
                                },
                                {
                                    \\"prim\\": \\"ITER\\",
                                    \\"args\\": [
                                        [
                                            {
                                                \\"prim\\": \\"SWAP\\"
                                            },
                                            {
                                                \\"prim\\": \\"DUP\\"
                                            },
                                            {
                                                \\"prim\\": \\"DUG\\",
                                                \\"args\\": [
                                                    {
                                                        \\"int\\": \\"2\\"
                                                    }
                                                ]
                                            },
                                            {
                                                \\"prim\\": \\"SWAP\\"
                                            },
                                            {
                                                \\"prim\\": \\"DUP\\"
                                            },
                                            {
                                                \\"prim\\": \\"DUG\\",
                                                \\"args\\": [
                                                    {
                                                        \\"int\\": \\"2\\"
                                                    }
                                                ]
                                            },
                                            {
                                                \\"prim\\": \\"MEM\\"
                                            },
                                            {
                                                \\"prim\\": \\"IF\\",
                                                \\"args\\": [
                                                    [
                                                        {
                                                            \\"prim\\": \\"SWAP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"DUP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"DIG\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"int\\": \\"2\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"DUP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"DUG\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"int\\": \\"2\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"GET\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"IF_NONE\\",
                                                            \\"args\\": [
                                                                [
                                                                    {
                                                                        \\"prim\\": \\"PUSH\\",
                                                                        \\"args\\": [
                                                                            {
                                                                                \\"prim\\": \\"int\\"
                                                                            },
                                                                            {
                                                                                \\"int\\": \\"243\\"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"FAILWITH\\"
                                                                    }
                                                                ],
                                                                []
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"PUSH\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"prim\\": \\"nat\\"
                                                                },
                                                                {
                                                                    \\"int\\": \\"1\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"ADD\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"SOME\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"SWAP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"UPDATE\\"
                                                        }
                                                    ],
                                                    [
                                                        {
                                                            \\"prim\\": \\"SWAP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"PUSH\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"prim\\": \\"option\\",
                                                                    \\"args\\": [
                                                                        {
                                                                            \\"prim\\": \\"nat\\"
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    \\"prim\\": \\"Some\\",
                                                                    \\"args\\": [
                                                                        {
                                                                            \\"int\\": \\"1\\"
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"DIG\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"int\\": \\"2\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"UPDATE\\"
                                                        }
                                                    ]
                                                ]
                                            }
                                        ]
                                    ]
                                },
                                {
                                    \\"prim\\": \\"SWAP\\"
                                },
                                {
                                    \\"prim\\": \\"DUP\\"
                                },
                                {
                                    \\"prim\\": \\"DUG\\",
                                    \\"args\\": [
                                        {
                                            \\"int\\": \\"2\\"
                                        }
                                    ]
                                },
                                {
                                    \\"prim\\": \\"SIZE\\"
                                },
                                {
                                    \\"prim\\": \\"PUSH\\",
                                    \\"args\\": [
                                        {
                                            \\"prim\\": \\"nat\\"
                                        },
                                        {
                                            \\"int\\": \\"0\\"
                                        }
                                    ]
                                },
                                {
                                    \\"prim\\": \\"PUSH\\",
                                    \\"args\\": [
                                        {
                                            \\"prim\\": \\"nat\\"
                                        },
                                        {
                                            \\"int\\": \\"2\\"
                                        }
                                    ]
                                },
                                {
                                    \\"prim\\": \\"DUP\\",
                                    \\"args\\": [
                                        {
                                            \\"int\\": \\"3\\"
                                        }
                                    ]
                                },
                                {
                                    \\"prim\\": \\"EDIV\\"
                                },
                                {
                                    \\"prim\\": \\"IF_NONE\\",
                                    \\"args\\": [
                                        [
                                            {
                                                \\"prim\\": \\"PUSH\\",
                                                \\"args\\": [
                                                    {
                                                        \\"prim\\": \\"int\\"
                                                    },
                                                    {
                                                        \\"int\\": \\"243\\"
                                                    }
                                                ]
                                            },
                                            {
                                                \\"prim\\": \\"FAILWITH\\"
                                            }
                                        ],
                                        [
                                            {
                                                \\"prim\\": \\"CAR\\"
                                            }
                                        ]
                                    ]
                                },
                                {
                                    \\"prim\\": \\"DUP\\",
                                    \\"args\\": [
                                        {
                                            \\"int\\": \\"3\\"
                                        }
                                    ]
                                },
                                {
                                    \\"prim\\": \\"PUSH\\",
                                    \\"args\\": [
                                        {
                                            \\"prim\\": \\"nat\\"
                                        },
                                        {
                                            \\"int\\": \\"2\\"
                                        }
                                    ]
                                },
                                {
                                    \\"prim\\": \\"DUP\\",
                                    \\"args\\": [
                                        {
                                            \\"int\\": \\"3\\"
                                        }
                                    ]
                                },
                                {
                                    \\"prim\\": \\"MUL\\"
                                },
                                {
                                    \\"prim\\": \\"COMPARE\\"
                                },
                                {
                                    \\"prim\\": \\"EQ\\"
                                },
                                {
                                    \\"prim\\": \\"PUSH\\",
                                    \\"args\\": [
                                        {
                                            \\"prim\\": \\"nat\\"
                                        },
                                        {
                                            \\"int\\": \\"0\\"
                                        }
                                    ]
                                },
                                {
                                    \\"prim\\": \\"DUP\\",
                                    \\"args\\": [
                                        {
                                            \\"int\\": \\"6\\"
                                        }
                                    ]
                                },
                                {
                                    \\"prim\\": \\"ITER\\",
                                    \\"args\\": [
                                        [
                                            {
                                                \\"prim\\": \\"DUP\\",
                                                \\"args\\": [
                                                    {
                                                        \\"int\\": \\"3\\"
                                                    }
                                                ]
                                            },
                                            {
                                                \\"prim\\": \\"IF\\",
                                                \\"args\\": [
                                                    [
                                                        {
                                                            \\"prim\\": \\"DUP\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"int\\": \\"4\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"DUP\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"int\\": \\"3\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"COMPARE\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"LT\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"IF\\",
                                                            \\"args\\": [
                                                                [
                                                                    {
                                                                        \\"prim\\": \\"DIG\\",
                                                                        \\"args\\": [
                                                                            {
                                                                                \\"int\\": \\"4\\"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"DROP\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"DUP\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"CAR\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"DUG\\",
                                                                        \\"args\\": [
                                                                            {
                                                                                \\"int\\": \\"4\\"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"DUP\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"DUG\\",
                                                                        \\"args\\": [
                                                                            {
                                                                                \\"int\\": \\"2\\"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"CDR\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"ADD\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"SWAP\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"DUP\\",
                                                                        \\"args\\": [
                                                                            {
                                                                                \\"int\\": \\"4\\"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"DUP\\",
                                                                        \\"args\\": [
                                                                            {
                                                                                \\"int\\": \\"3\\"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"COMPARE\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"GT\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"IF\\",
                                                                        \\"args\\": [
                                                                            [
                                                                                {
                                                                                    \\"prim\\": \\"DIG\\",
                                                                                    \\"args\\": [
                                                                                        {
                                                                                            \\"int\\": \\"2\\"
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    \\"prim\\": \\"DROP\\",
                                                                                    \\"args\\": [
                                                                                        {
                                                                                            \\"int\\": \\"2\\"
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    \\"prim\\": \\"PUSH\\",
                                                                                    \\"args\\": [
                                                                                        {
                                                                                            \\"prim\\": \\"bool\\"
                                                                                        },
                                                                                        {
                                                                                            \\"prim\\": \\"False\\"
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    \\"prim\\": \\"SWAP\\"
                                                                                }
                                                                            ],
                                                                            [
                                                                                {
                                                                                    \\"prim\\": \\"DROP\\"
                                                                                }
                                                                            ]
                                                                        ]
                                                                    }
                                                                ],
                                                                [
                                                                    {
                                                                        \\"prim\\": \\"DIG\\",
                                                                        \\"args\\": [
                                                                            {
                                                                                \\"int\\": \\"2\\"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"DROP\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"DIG\\",
                                                                        \\"args\\": [
                                                                            {
                                                                                \\"int\\": \\"3\\"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"SWAP\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"DUP\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"DUG\\",
                                                                        \\"args\\": [
                                                                            {
                                                                                \\"int\\": \\"2\\"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"CAR\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"ADD\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"PUSH\\",
                                                                        \\"args\\": [
                                                                            {
                                                                                \\"prim\\": \\"nat\\"
                                                                            },
                                                                            {
                                                                                \\"int\\": \\"2\\"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"SWAP\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"EDIV\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"IF_NONE\\",
                                                                        \\"args\\": [
                                                                            [
                                                                                {
                                                                                    \\"prim\\": \\"PUSH\\",
                                                                                    \\"args\\": [
                                                                                        {
                                                                                            \\"prim\\": \\"int\\"
                                                                                        },
                                                                                        {
                                                                                            \\"int\\": \\"243\\"
                                                                                        }
                                                                                    ]
                                                                                },
                                                                                {
                                                                                    \\"prim\\": \\"FAILWITH\\"
                                                                                }
                                                                            ],
                                                                            [
                                                                                {
                                                                                    \\"prim\\": \\"CAR\\"
                                                                                }
                                                                            ]
                                                                        ]
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"DUG\\",
                                                                        \\"args\\": [
                                                                            {
                                                                                \\"int\\": \\"3\\"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"PUSH\\",
                                                                        \\"args\\": [
                                                                            {
                                                                                \\"prim\\": \\"bool\\"
                                                                            },
                                                                            {
                                                                                \\"prim\\": \\"False\\"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"DUG\\",
                                                                        \\"args\\": [
                                                                            {
                                                                                \\"int\\": \\"2\\"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"CDR\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"ADD\\"
                                                                    }
                                                                ]
                                                            ]
                                                        }
                                                    ],
                                                    [
                                                        {
                                                            \\"prim\\": \\"DUP\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"int\\": \\"4\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"DUP\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"int\\": \\"3\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"COMPARE\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"LE\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"IF\\",
                                                            \\"args\\": [
                                                                [
                                                                    {
                                                                        \\"prim\\": \\"DIG\\",
                                                                        \\"args\\": [
                                                                            {
                                                                                \\"int\\": \\"4\\"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"DROP\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"DUP\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"CAR\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"DUG\\",
                                                                        \\"args\\": [
                                                                            {
                                                                                \\"int\\": \\"4\\"
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"CDR\\"
                                                                    },
                                                                    {
                                                                        \\"prim\\": \\"ADD\\"
                                                                    }
                                                                ],
                                                                [
                                                                    {
                                                                        \\"prim\\": \\"DROP\\"
                                                                    }
                                                                ]
                                                            ]
                                                        }
                                                    ]
                                                ]
                                            }
                                        ]
                                    ]
                                },
                                {
                                    \\"prim\\": \\"DROP\\",
                                    \\"args\\": [
                                        {
                                            \\"int\\": \\"3\\"
                                        }
                                    ]
                                },
                                {
                                    \\"prim\\": \\"SWAP\\"
                                },
                                {
                                    \\"prim\\": \\"DROP\\"
                                },
                                {
                                    \\"prim\\": \\"SWAP\\"
                                },
                                {
                                    \\"prim\\": \\"DROP\\"
                                },
                                {
                                    \\"prim\\": \\"SWAP\\"
                                },
                                {
                                    \\"prim\\": \\"DROP\\"
                                }
                            ]
                        ]
                    },
                    {
                        \\"prim\\": \\"PUSH\\",
                        \\"args\\": [
                            {
                                \\"prim\\": \\"list\\",
                                \\"args\\": [
                                    {
                                        \\"prim\\": \\"nat\\"
                                    }
                                ]
                            },
                            [
                                {
                                    \\"int\\": \\"1\\"
                                },
                                {
                                    \\"int\\": \\"2\\"
                                },
                                {
                                    \\"int\\": \\"3\\"
                                }
                            ]
                        ]
                    },
                    {
                        \\"prim\\": \\"EXEC\\"
                    },
                    {
                        \\"prim\\": \\"DUP\\"
                    },
                    {
                        \\"prim\\": \\"PUSH\\",
                        \\"args\\": [
                            {
                                \\"prim\\": \\"nat\\"
                            },
                            {
                                \\"int\\": \\"2\\"
                            }
                        ]
                    },
                    {
                        \\"prim\\": \\"COMPARE\\"
                    },
                    {
                        \\"prim\\": \\"EQ\\"
                    },
                    {
                        \\"prim\\": \\"IF\\",
                        \\"args\\": [
                            [],
                            [
                                {
                                    \\"prim\\": \\"UNIT\\"
                                },
                                {
                                    \\"prim\\": \\"FAILWITH\\"
                                }
                            ]
                        ]
                    },
                    {
                        \\"prim\\": \\"NIL\\",
                        \\"args\\": [
                            {
                                \\"prim\\": \\"operation\\"
                            }
                        ]
                    },
                    {
                        \\"prim\\": \\"PAIR\\"
                    }
                ]
            ]
        }
    ],
    \\"smartpy\\": \\"import smartpy as sp\\\\n\\\\nclass Contract(sp.Contract):\\\\n  def __init__(self):\\\\n    self.init_type(sp.TNat)\\\\n\\\\n  @sp.entry_point\\\\n  def ep1(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    def flambda_arg(lambda_arg):\\\\n      hist = sp.local(\\\\\\"hist\\\\\\", {})\\\\n      sp.for __ITERATOR_FOREACH_1__ in lambda_arg:\\\\n        sp.if hist.value.contains(__ITERATOR_FOREACH_1__):\\\\n          hist.value[__ITERATOR_FOREACH_1__] += 1\\\\n        sp.else:\\\\n          hist.value[__ITERATOR_FOREACH_1__] = 1\\\\n      list_size = sp.local(\\\\\\"list_size\\\\\\", sp.len(lambda_arg))\\\\n      result = sp.local(\\\\\\"result\\\\\\", 0)\\\\n      half = sp.local(\\\\\\"half\\\\\\", list_size.value // 2)\\\\n      use_average = sp.local(\\\\\\"use_average\\\\\\", sp.mul(half.value, 2) == list_size.value)\\\\n      i = sp.local(\\\\\\"i\\\\\\", 0)\\\\n      sp.for __ITERATOR_FOREACH_2__ in hist.value.items():\\\\n        sp.if use_average.value:\\\\n          sp.if i.value < half.value:\\\\n            result.value = __ITERATOR_FOREACH_2__.key\\\\n            i.value += __ITERATOR_FOREACH_2__.value\\\\n            sp.if i.value > half.value:\\\\n              use_average.value = False\\\\n          sp.else:\\\\n            result.value += __ITERATOR_FOREACH_2__.key\\\\n            result.value //= 2\\\\n            use_average.value = False\\\\n            i.value += __ITERATOR_FOREACH_2__.value\\\\n        sp.else:\\\\n          sp.if i.value <= half.value:\\\\n            result.value = __ITERATOR_FOREACH_2__.key\\\\n            i.value += __ITERATOR_FOREACH_2__.value\\\\n      sp.result(result.value)\\\\n    self.data = sp.build_lambda(flambda_arg)(sp.list([1, 2, 3]))\\\\n    sp.verify(self.data == 2, sp.unit)\\\\n\\\\nsp.add_compilation_target(\\\\\\"visualtez_compilation\\\\\\", Contract())\\"
}"
`;

exports[`Arithmetic expressions EuclideanDivision 1`] = `
"
        (
            template_id (static_id 0 (\\"arithmetic.test.ts\\" 41))
            storage ()
            storage_type ((option (tuple \\"nat\\" \\"nat\\")))
            messages ((ep1 True False False True (\\"arithmetic.test.ts\\" 44) ((set_type (params (\\"arithmetic.test.ts\\" 44)) \\"unit\\" (\\"arithmetic.test.ts\\" 47)) (set (data) (ediv (literal (nat 13) (\\"arithmetic.test.ts\\" 44)) (literal (nat 3) (\\"arithmetic.test.ts\\" 44)) (\\"arithmetic.test.ts\\" 44)) (\\"arithmetic.test.ts\\" 44)))))
            flags ()
            privates ()
            views ()
            entry_points_layout ()
            initial_metadata ()
            balance (literal (mutez 0) (\\"arithmetic.test.ts\\" 41))
        )
        "
`;

exports[`Arithmetic expressions EuclideanDivision 2`] = `
"{
    \\"micheline\\": \\"parameter (unit %ep1);\\\\nstorage   (option (pair nat nat));\\\\ncode\\\\n  {\\\\n    DROP;\\\\n    PUSH nat 3;\\\\n    PUSH nat 13;\\\\n    EDIV;\\\\n    NIL operation;\\\\n    PAIR;\\\\n  };\\",
    \\"json\\": [
        {
            \\"prim\\": \\"storage\\",
            \\"args\\": [
                {
                    \\"prim\\": \\"option\\",
                    \\"args\\": [
                        {
                            \\"prim\\": \\"pair\\",
                            \\"args\\": [
                                {
                                    \\"prim\\": \\"nat\\"
                                },
                                {
                                    \\"prim\\": \\"nat\\"
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            \\"prim\\": \\"parameter\\",
            \\"args\\": [
                {
                    \\"prim\\": \\"unit\\",
                    \\"annots\\": [
                        \\"%ep1\\"
                    ]
                }
            ]
        },
        {
            \\"prim\\": \\"code\\",
            \\"args\\": [
                [
                    {
                        \\"prim\\": \\"DROP\\"
                    },
                    {
                        \\"prim\\": \\"PUSH\\",
                        \\"args\\": [
                            {
                                \\"prim\\": \\"nat\\"
                            },
                            {
                                \\"int\\": \\"3\\"
                            }
                        ]
                    },
                    {
                        \\"prim\\": \\"PUSH\\",
                        \\"args\\": [
                            {
                                \\"prim\\": \\"nat\\"
                            },
                            {
                                \\"int\\": \\"13\\"
                            }
                        ]
                    },
                    {
                        \\"prim\\": \\"EDIV\\"
                    },
                    {
                        \\"prim\\": \\"NIL\\",
                        \\"args\\": [
                            {
                                \\"prim\\": \\"operation\\"
                            }
                        ]
                    },
                    {
                        \\"prim\\": \\"PAIR\\"
                    }
                ]
            ]
        }
    ],
    \\"smartpy\\": \\"import smartpy as sp\\\\n\\\\nclass Contract(sp.Contract):\\\\n  def __init__(self):\\\\n    self.init_type(sp.TOption(sp.TPair(sp.TNat, sp.TNat)))\\\\n\\\\n  @sp.entry_point\\\\n  def ep1(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data = sp.ediv(13, 3)\\\\n\\\\nsp.add_compilation_target(\\\\\\"visualtez_compilation\\\\\\", Contract())\\"
}"
`;

exports[`Arithmetic expressions Mod 1`] = `
"
        (
            template_id (static_id 0 (\\"arithmetic.test.ts\\" 50))
            storage ()
            storage_type (\\"nat\\")
            messages ((ep1 True False False True (\\"arithmetic.test.ts\\" 52) ((set_type (params (\\"arithmetic.test.ts\\" 52)) \\"unit\\" (\\"arithmetic.test.ts\\" 54)) (set (data) (mod (literal (nat 13) (\\"arithmetic.test.ts\\" 52)) (literal (nat 3) (\\"arithmetic.test.ts\\" 52)) (\\"arithmetic.test.ts\\" 52)) (\\"arithmetic.test.ts\\" 52)))))
            flags ()
            privates ()
            views ()
            entry_points_layout ()
            initial_metadata ()
            balance (literal (mutez 0) (\\"arithmetic.test.ts\\" 50))
        )
        "
`;

exports[`Arithmetic expressions Mod 2`] = `
"{
    \\"micheline\\": \\"parameter (unit %ep1);\\\\nstorage   nat;\\\\ncode\\\\n  {\\\\n    DROP;\\\\n    PUSH nat 3;\\\\n    PUSH nat 13;\\\\n    EDIV;\\\\n    IF_NONE\\\\n      {\\\\n        PUSH int 52;\\\\n        FAILWITH;\\\\n      }\\\\n      {\\\\n        CDR;\\\\n      };\\\\n    NIL operation;\\\\n    PAIR;\\\\n  };\\",
    \\"json\\": [
        {
            \\"prim\\": \\"storage\\",
            \\"args\\": [
                {
                    \\"prim\\": \\"nat\\"
                }
            ]
        },
        {
            \\"prim\\": \\"parameter\\",
            \\"args\\": [
                {
                    \\"prim\\": \\"unit\\",
                    \\"annots\\": [
                        \\"%ep1\\"
                    ]
                }
            ]
        },
        {
            \\"prim\\": \\"code\\",
            \\"args\\": [
                [
                    {
                        \\"prim\\": \\"DROP\\"
                    },
                    {
                        \\"prim\\": \\"PUSH\\",
                        \\"args\\": [
                            {
                                \\"prim\\": \\"nat\\"
                            },
                            {
                                \\"int\\": \\"3\\"
                            }
                        ]
                    },
                    {
                        \\"prim\\": \\"PUSH\\",
                        \\"args\\": [
                            {
                                \\"prim\\": \\"nat\\"
                            },
                            {
                                \\"int\\": \\"13\\"
                            }
                        ]
                    },
                    {
                        \\"prim\\": \\"EDIV\\"
                    },
                    {
                        \\"prim\\": \\"IF_NONE\\",
                        \\"args\\": [
                            [
                                {
                                    \\"prim\\": \\"PUSH\\",
                                    \\"args\\": [
                                        {
                                            \\"prim\\": \\"int\\"
                                        },
                                        {
                                            \\"int\\": \\"52\\"
                                        }
                                    ]
                                },
                                {
                                    \\"prim\\": \\"FAILWITH\\"
                                }
                            ],
                            [
                                {
                                    \\"prim\\": \\"CDR\\"
                                }
                            ]
                        ]
                    },
                    {
                        \\"prim\\": \\"NIL\\",
                        \\"args\\": [
                            {
                                \\"prim\\": \\"operation\\"
                            }
                        ]
                    },
                    {
                        \\"prim\\": \\"PAIR\\"
                    }
                ]
            ]
        }
    ],
    \\"smartpy\\": \\"import smartpy as sp\\\\n\\\\nclass Contract(sp.Contract):\\\\n  def __init__(self):\\\\n    self.init_type(sp.TNat)\\\\n\\\\n  @sp.entry_point\\\\n  def ep1(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data = 13 % 3\\\\n\\\\nsp.add_compilation_target(\\\\\\"visualtez_compilation\\\\\\", Contract())\\"
}"
`;

exports[`Arithmetic expressions Multiplication 1`] = `
"
        (
            template_id (static_id 0 (\\"arithmetic.test.ts\\" 165))
            storage (record (\\"arithmetic.test.ts\\" 177) (nat (variant \\"None\\" (unit) (\\"arithmetic.test.ts\\" 178))) (int (variant \\"None\\" (unit) (\\"arithmetic.test.ts\\" 179))) (mutez (variant \\"None\\" (unit) (\\"arithmetic.test.ts\\" 180))) (bls12_381_fr (variant \\"None\\" (unit) (\\"arithmetic.test.ts\\" 181))) (bls12_381_g1 (variant \\"None\\" (unit) (\\"arithmetic.test.ts\\" 182))) (bls12_381_g2 (variant \\"None\\" (unit) (\\"arithmetic.test.ts\\" 183))))
            storage_type ((record ((nat (option \\"nat\\")) (int (option \\"int\\")) (mutez (option \\"mutez\\")) (bls12_381_fr (option \\"bls12_381_fr\\")) (bls12_381_g1 (option \\"bls12_381_g1\\")) (bls12_381_g2 (option \\"bls12_381_g2\\"))) (Some ((\\"nat\\") ((\\"int\\") ((\\"mutez\\") ((\\"bls12_381_fr\\") ((\\"bls12_381_g1\\") (\\"bls12_381_g2\\"))))))) (\\"\\" -1)))
            messages ((ep1 True False False True (\\"arithmetic.test.ts\\" 187) ((set_type (params (\\"arithmetic.test.ts\\" 187)) \\"unit\\" (\\"arithmetic.test.ts\\" 236)) (set (attr (data) \\"nat\\" (\\"expression.ts\\" 28)) (variant \\"Some\\" (mul_overloaded (literal (nat 1) (\\"arithmetic.test.ts\\" 187)) (literal (nat 1) (\\"arithmetic.test.ts\\" 187)) (\\"arithmetic.test.ts\\" 187)) (\\"arithmetic.test.ts\\" 187)) (\\"arithmetic.test.ts\\" 187)))) (ep2 True False False True (\\"arithmetic.test.ts\\" 190) ((set_type (params (\\"arithmetic.test.ts\\" 190)) \\"unit\\" (\\"arithmetic.test.ts\\" 236)) (set (attr (data) \\"int\\" (\\"expression.ts\\" 28)) (variant \\"Some\\" (mul_overloaded (literal (nat 1) (\\"arithmetic.test.ts\\" 190)) (literal (int 1) (\\"arithmetic.test.ts\\" 190)) (\\"arithmetic.test.ts\\" 190)) (\\"arithmetic.test.ts\\" 190)) (\\"arithmetic.test.ts\\" 190)) (set (attr (data) \\"int\\" (\\"expression.ts\\" 28)) (variant \\"Some\\" (mul_overloaded (literal (int 1) (\\"arithmetic.test.ts\\" 190)) (literal (int 1) (\\"arithmetic.test.ts\\" 190)) (\\"arithmetic.test.ts\\" 190)) (\\"arithmetic.test.ts\\" 190)) (\\"arithmetic.test.ts\\" 190)))) (ep3 True False False True (\\"arithmetic.test.ts\\" 196) ((set_type (params (\\"arithmetic.test.ts\\" 196)) \\"unit\\" (\\"arithmetic.test.ts\\" 236)) (set (attr (data) \\"mutez\\" (\\"expression.ts\\" 28)) (variant \\"Some\\" (mul_overloaded (literal (mutez 1) (\\"arithmetic.test.ts\\" 196)) (literal (nat 1) (\\"arithmetic.test.ts\\" 196)) (\\"arithmetic.test.ts\\" 196)) (\\"arithmetic.test.ts\\" 196)) (\\"arithmetic.test.ts\\" 196)))) (ep4 True False False True (\\"arithmetic.test.ts\\" 199) ((set_type (params (\\"arithmetic.test.ts\\" 199)) \\"unit\\" (\\"arithmetic.test.ts\\" 236)) (set (attr (data) \\"bls12_381_fr\\" (\\"expression.ts\\" 28)) (variant \\"Some\\" (mul_overloaded (literal (nat 1) (\\"arithmetic.test.ts\\" 199)) (literal (bls12_381_fr 1) (\\"arithmetic.test.ts\\" 199)) (\\"arithmetic.test.ts\\" 199)) (\\"arithmetic.test.ts\\" 199)) (\\"arithmetic.test.ts\\" 199)) (set (attr (data) \\"bls12_381_fr\\" (\\"expression.ts\\" 28)) (variant \\"Some\\" (mul_overloaded (literal (int 1) (\\"arithmetic.test.ts\\" 199)) (literal (bls12_381_fr 1) (\\"arithmetic.test.ts\\" 199)) (\\"arithmetic.test.ts\\" 199)) (\\"arithmetic.test.ts\\" 199)) (\\"arithmetic.test.ts\\" 199)) (set (attr (data) \\"bls12_381_fr\\" (\\"expression.ts\\" 28)) (variant \\"Some\\" (mul_overloaded (literal (bls12_381_fr 1) (\\"arithmetic.test.ts\\" 199)) (literal (bls12_381_fr 1) (\\"arithmetic.test.ts\\" 199)) (\\"arithmetic.test.ts\\" 199)) (\\"arithmetic.test.ts\\" 199)) (\\"arithmetic.test.ts\\" 199)))) (ep5 True False False True (\\"arithmetic.test.ts\\" 206) ((set_type (params (\\"arithmetic.test.ts\\" 206)) \\"unit\\" (\\"arithmetic.test.ts\\" 236)) (set (attr (data) \\"bls12_381_g1\\" (\\"expression.ts\\" 28)) (variant \\"Some\\" (mul_overloaded (literal (bls12_381_g1 0x0572cbea904d67468808c8eb50a9450c9721db309128012543902d0ac358a62ae28f75bb8f1c7c42c39a8c5529bf0f4e166a9d8cabc673a322fda673779d8e3822ba3ecb8670e461f73bb9021d5fd76a4c56d9d4cd16bd1bba86881979749d28) (\\"arithmetic.test.ts\\" 206)) (literal (bls12_381_fr 1) (\\"arithmetic.test.ts\\" 206)) (\\"arithmetic.test.ts\\" 206)) (\\"arithmetic.test.ts\\" 206)) (\\"arithmetic.test.ts\\" 206)))) (ep6 True False False True (\\"arithmetic.test.ts\\" 221) ((set_type (params (\\"arithmetic.test.ts\\" 221)) \\"unit\\" (\\"arithmetic.test.ts\\" 236)) (set (attr (data) \\"bls12_381_g2\\" (\\"expression.ts\\" 28)) (variant \\"Some\\" (mul_overloaded (literal (bls12_381_g2 0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb813fa4d4a0ad8b1ce186ed5061789213d993923066dddaf1040bc3ff59f825c78df74f2d75467e25e0f55f8a00fa030ed0d1b3cc2c7027888be51d9ef691d77bcb679afda66c73f17f9ee3837a55024f78c71363275a75d75d86bab79f74782aa) (\\"arithmetic.test.ts\\" 221)) (literal (bls12_381_fr 1) (\\"arithmetic.test.ts\\" 221)) (\\"arithmetic.test.ts\\" 221)) (\\"arithmetic.test.ts\\" 221)) (\\"arithmetic.test.ts\\" 221)))))
            flags ()
            privates ()
            views ()
            entry_points_layout ()
            initial_metadata ()
            balance (literal (mutez 0) (\\"arithmetic.test.ts\\" 165))
        )
        "
`;

exports[`Arithmetic expressions Multiplication 2`] = `
"{
    \\"micheline\\": \\"parameter (or (or (unit %ep1) (or (unit %ep2) (unit %ep3))) (or (unit %ep4) (or (unit %ep5) (unit %ep6))));\\\\nstorage   (pair (option %nat nat) (pair (option %int int) (pair (option %mutez mutez) (pair (option %bls12_381_fr bls12_381_fr) (pair (option %bls12_381_g1 bls12_381_g1) (option %bls12_381_g2 bls12_381_g2))))));\\\\ncode\\\\n  {\\\\n    UNPAIR;\\\\n    IF_LEFT\\\\n      {\\\\n        IF_LEFT\\\\n          {\\\\n            DROP;\\\\n            PUSH nat 1;\\\\n            DUP;\\\\n            MUL;\\\\n            SOME;\\\\n            UPDATE 1;\\\\n          }\\\\n          {\\\\n            IF_LEFT\\\\n              {\\\\n                DROP;\\\\n                PUSH int 1;\\\\n                PUSH nat 1;\\\\n                MUL;\\\\n                SOME;\\\\n                UPDATE 3;\\\\n                PUSH int 1;\\\\n                DUP;\\\\n                MUL;\\\\n                SOME;\\\\n                UPDATE 3;\\\\n              }\\\\n              {\\\\n                DROP;\\\\n                PUSH nat 1;\\\\n                PUSH mutez 1;\\\\n                MUL;\\\\n                SOME;\\\\n                UPDATE 5;\\\\n              };\\\\n          };\\\\n      }\\\\n      {\\\\n        IF_LEFT\\\\n          {\\\\n            DROP;\\\\n            PUSH bls12_381_fr 0x01;\\\\n            PUSH nat 1;\\\\n            MUL;\\\\n            SOME;\\\\n            UPDATE 7;\\\\n            PUSH bls12_381_fr 0x01;\\\\n            PUSH int 1;\\\\n            MUL;\\\\n            SOME;\\\\n            UPDATE 7;\\\\n            PUSH bls12_381_fr 0x01;\\\\n            DUP;\\\\n            MUL;\\\\n            SOME;\\\\n            UPDATE 7;\\\\n          }\\\\n          {\\\\n            IF_LEFT\\\\n              {\\\\n                DROP;\\\\n                PUSH bls12_381_fr 0x01;\\\\n                PUSH bls12_381_g1 0x0572cbea904d67468808c8eb50a9450c9721db309128012543902d0ac358a62ae28f75bb8f1c7c42c39a8c5529bf0f4e166a9d8cabc673a322fda673779d8e3822ba3ecb8670e461f73bb9021d5fd76a4c56d9d4cd16bd1bba86881979749d28;\\\\n                MUL;\\\\n                SOME;\\\\n                UPDATE 9;\\\\n              }\\\\n              {\\\\n                DROP;\\\\n                PUSH bls12_381_fr 0x01;\\\\n                PUSH bls12_381_g2 0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb813fa4d4a0ad8b1ce186ed5061789213d993923066dddaf1040bc3ff59f825c78df74f2d75467e25e0f55f8a00fa030ed0d1b3cc2c7027888be51d9ef691d77bcb679afda66c73f17f9ee3837a55024f78c71363275a75d75d86bab79f74782aa;\\\\n                MUL;\\\\n                SOME;\\\\n                UPDATE 10;\\\\n              };\\\\n          };\\\\n      };\\\\n    NIL operation;\\\\n    PAIR;\\\\n  };\\",
    \\"json\\": [
        {
            \\"prim\\": \\"storage\\",
            \\"args\\": [
                {
                    \\"prim\\": \\"pair\\",
                    \\"args\\": [
                        {
                            \\"prim\\": \\"option\\",
                            \\"args\\": [
                                {
                                    \\"prim\\": \\"nat\\"
                                }
                            ],
                            \\"annots\\": [
                                \\"%nat\\"
                            ]
                        },
                        {
                            \\"prim\\": \\"pair\\",
                            \\"args\\": [
                                {
                                    \\"prim\\": \\"option\\",
                                    \\"args\\": [
                                        {
                                            \\"prim\\": \\"int\\"
                                        }
                                    ],
                                    \\"annots\\": [
                                        \\"%int\\"
                                    ]
                                },
                                {
                                    \\"prim\\": \\"pair\\",
                                    \\"args\\": [
                                        {
                                            \\"prim\\": \\"option\\",
                                            \\"args\\": [
                                                {
                                                    \\"prim\\": \\"mutez\\"
                                                }
                                            ],
                                            \\"annots\\": [
                                                \\"%mutez\\"
                                            ]
                                        },
                                        {
                                            \\"prim\\": \\"pair\\",
                                            \\"args\\": [
                                                {
                                                    \\"prim\\": \\"option\\",
                                                    \\"args\\": [
                                                        {
                                                            \\"prim\\": \\"bls12_381_fr\\"
                                                        }
                                                    ],
                                                    \\"annots\\": [
                                                        \\"%bls12_381_fr\\"
                                                    ]
                                                },
                                                {
                                                    \\"prim\\": \\"pair\\",
                                                    \\"args\\": [
                                                        {
                                                            \\"prim\\": \\"option\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"prim\\": \\"bls12_381_g1\\"
                                                                }
                                                            ],
                                                            \\"annots\\": [
                                                                \\"%bls12_381_g1\\"
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"option\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"prim\\": \\"bls12_381_g2\\"
                                                                }
                                                            ],
                                                            \\"annots\\": [
                                                                \\"%bls12_381_g2\\"
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            \\"prim\\": \\"parameter\\",
            \\"args\\": [
                {
                    \\"prim\\": \\"or\\",
                    \\"args\\": [
                        {
                            \\"prim\\": \\"or\\",
                            \\"args\\": [
                                {
                                    \\"prim\\": \\"unit\\",
                                    \\"annots\\": [
                                        \\"%ep1\\"
                                    ]
                                },
                                {
                                    \\"prim\\": \\"or\\",
                                    \\"args\\": [
                                        {
                                            \\"prim\\": \\"unit\\",
                                            \\"annots\\": [
                                                \\"%ep2\\"
                                            ]
                                        },
                                        {
                                            \\"prim\\": \\"unit\\",
                                            \\"annots\\": [
                                                \\"%ep3\\"
                                            ]
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            \\"prim\\": \\"or\\",
                            \\"args\\": [
                                {
                                    \\"prim\\": \\"unit\\",
                                    \\"annots\\": [
                                        \\"%ep4\\"
                                    ]
                                },
                                {
                                    \\"prim\\": \\"or\\",
                                    \\"args\\": [
                                        {
                                            \\"prim\\": \\"unit\\",
                                            \\"annots\\": [
                                                \\"%ep5\\"
                                            ]
                                        },
                                        {
                                            \\"prim\\": \\"unit\\",
                                            \\"annots\\": [
                                                \\"%ep6\\"
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            \\"prim\\": \\"code\\",
            \\"args\\": [
                [
                    {
                        \\"prim\\": \\"UNPAIR\\"
                    },
                    {
                        \\"prim\\": \\"IF_LEFT\\",
                        \\"args\\": [
                            [
                                {
                                    \\"prim\\": \\"IF_LEFT\\",
                                    \\"args\\": [
                                        [
                                            {
                                                \\"prim\\": \\"DROP\\"
                                            },
                                            {
                                                \\"prim\\": \\"PUSH\\",
                                                \\"args\\": [
                                                    {
                                                        \\"prim\\": \\"nat\\"
                                                    },
                                                    {
                                                        \\"int\\": \\"1\\"
                                                    }
                                                ]
                                            },
                                            {
                                                \\"prim\\": \\"DUP\\"
                                            },
                                            {
                                                \\"prim\\": \\"MUL\\"
                                            },
                                            {
                                                \\"prim\\": \\"SOME\\"
                                            },
                                            {
                                                \\"prim\\": \\"UPDATE\\",
                                                \\"args\\": [
                                                    {
                                                        \\"int\\": \\"1\\"
                                                    }
                                                ]
                                            }
                                        ],
                                        [
                                            {
                                                \\"prim\\": \\"IF_LEFT\\",
                                                \\"args\\": [
                                                    [
                                                        {
                                                            \\"prim\\": \\"DROP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"PUSH\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"prim\\": \\"int\\"
                                                                },
                                                                {
                                                                    \\"int\\": \\"1\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"PUSH\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"prim\\": \\"nat\\"
                                                                },
                                                                {
                                                                    \\"int\\": \\"1\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"MUL\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"SOME\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"UPDATE\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"int\\": \\"3\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"PUSH\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"prim\\": \\"int\\"
                                                                },
                                                                {
                                                                    \\"int\\": \\"1\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"DUP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"MUL\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"SOME\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"UPDATE\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"int\\": \\"3\\"
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    [
                                                        {
                                                            \\"prim\\": \\"DROP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"PUSH\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"prim\\": \\"nat\\"
                                                                },
                                                                {
                                                                    \\"int\\": \\"1\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"PUSH\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"prim\\": \\"mutez\\"
                                                                },
                                                                {
                                                                    \\"int\\": \\"1\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"MUL\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"SOME\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"UPDATE\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"int\\": \\"5\\"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                ]
                                            }
                                        ]
                                    ]
                                }
                            ],
                            [
                                {
                                    \\"prim\\": \\"IF_LEFT\\",
                                    \\"args\\": [
                                        [
                                            {
                                                \\"prim\\": \\"DROP\\"
                                            },
                                            {
                                                \\"prim\\": \\"PUSH\\",
                                                \\"args\\": [
                                                    {
                                                        \\"prim\\": \\"bls12_381_fr\\"
                                                    },
                                                    {
                                                        \\"bytes\\": \\"01\\"
                                                    }
                                                ]
                                            },
                                            {
                                                \\"prim\\": \\"PUSH\\",
                                                \\"args\\": [
                                                    {
                                                        \\"prim\\": \\"nat\\"
                                                    },
                                                    {
                                                        \\"int\\": \\"1\\"
                                                    }
                                                ]
                                            },
                                            {
                                                \\"prim\\": \\"MUL\\"
                                            },
                                            {
                                                \\"prim\\": \\"SOME\\"
                                            },
                                            {
                                                \\"prim\\": \\"UPDATE\\",
                                                \\"args\\": [
                                                    {
                                                        \\"int\\": \\"7\\"
                                                    }
                                                ]
                                            },
                                            {
                                                \\"prim\\": \\"PUSH\\",
                                                \\"args\\": [
                                                    {
                                                        \\"prim\\": \\"bls12_381_fr\\"
                                                    },
                                                    {
                                                        \\"bytes\\": \\"01\\"
                                                    }
                                                ]
                                            },
                                            {
                                                \\"prim\\": \\"PUSH\\",
                                                \\"args\\": [
                                                    {
                                                        \\"prim\\": \\"int\\"
                                                    },
                                                    {
                                                        \\"int\\": \\"1\\"
                                                    }
                                                ]
                                            },
                                            {
                                                \\"prim\\": \\"MUL\\"
                                            },
                                            {
                                                \\"prim\\": \\"SOME\\"
                                            },
                                            {
                                                \\"prim\\": \\"UPDATE\\",
                                                \\"args\\": [
                                                    {
                                                        \\"int\\": \\"7\\"
                                                    }
                                                ]
                                            },
                                            {
                                                \\"prim\\": \\"PUSH\\",
                                                \\"args\\": [
                                                    {
                                                        \\"prim\\": \\"bls12_381_fr\\"
                                                    },
                                                    {
                                                        \\"bytes\\": \\"01\\"
                                                    }
                                                ]
                                            },
                                            {
                                                \\"prim\\": \\"DUP\\"
                                            },
                                            {
                                                \\"prim\\": \\"MUL\\"
                                            },
                                            {
                                                \\"prim\\": \\"SOME\\"
                                            },
                                            {
                                                \\"prim\\": \\"UPDATE\\",
                                                \\"args\\": [
                                                    {
                                                        \\"int\\": \\"7\\"
                                                    }
                                                ]
                                            }
                                        ],
                                        [
                                            {
                                                \\"prim\\": \\"IF_LEFT\\",
                                                \\"args\\": [
                                                    [
                                                        {
                                                            \\"prim\\": \\"DROP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"PUSH\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"prim\\": \\"bls12_381_fr\\"
                                                                },
                                                                {
                                                                    \\"bytes\\": \\"01\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"PUSH\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"prim\\": \\"bls12_381_g1\\"
                                                                },
                                                                {
                                                                    \\"bytes\\": \\"0572cbea904d67468808c8eb50a9450c9721db309128012543902d0ac358a62ae28f75bb8f1c7c42c39a8c5529bf0f4e166a9d8cabc673a322fda673779d8e3822ba3ecb8670e461f73bb9021d5fd76a4c56d9d4cd16bd1bba86881979749d28\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"MUL\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"SOME\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"UPDATE\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"int\\": \\"9\\"
                                                                }
                                                            ]
                                                        }
                                                    ],
                                                    [
                                                        {
                                                            \\"prim\\": \\"DROP\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"PUSH\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"prim\\": \\"bls12_381_fr\\"
                                                                },
                                                                {
                                                                    \\"bytes\\": \\"01\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"PUSH\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"prim\\": \\"bls12_381_g2\\"
                                                                },
                                                                {
                                                                    \\"bytes\\": \\"13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb813fa4d4a0ad8b1ce186ed5061789213d993923066dddaf1040bc3ff59f825c78df74f2d75467e25e0f55f8a00fa030ed0d1b3cc2c7027888be51d9ef691d77bcb679afda66c73f17f9ee3837a55024f78c71363275a75d75d86bab79f74782aa\\"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            \\"prim\\": \\"MUL\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"SOME\\"
                                                        },
                                                        {
                                                            \\"prim\\": \\"UPDATE\\",
                                                            \\"args\\": [
                                                                {
                                                                    \\"int\\": \\"10\\"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                ]
                                            }
                                        ]
                                    ]
                                }
                            ]
                        ]
                    },
                    {
                        \\"prim\\": \\"NIL\\",
                        \\"args\\": [
                            {
                                \\"prim\\": \\"operation\\"
                            }
                        ]
                    },
                    {
                        \\"prim\\": \\"PAIR\\"
                    }
                ]
            ]
        }
    ],
    \\"smartpy\\": \\"import smartpy as sp\\\\n\\\\nclass Contract(sp.Contract):\\\\n  def __init__(self):\\\\n    self.init_type(sp.TRecord(bls12_381_fr = sp.TOption(sp.TBls12_381_fr), bls12_381_g1 = sp.TOption(sp.TBls12_381_g1), bls12_381_g2 = sp.TOption(sp.TBls12_381_g2), int = sp.TOption(sp.TInt), mutez = sp.TOption(sp.TMutez), nat = sp.TOption(sp.TNat)).layout((\\\\\\"nat\\\\\\", (\\\\\\"int\\\\\\", (\\\\\\"mutez\\\\\\", (\\\\\\"bls12_381_fr\\\\\\", (\\\\\\"bls12_381_g1\\\\\\", \\\\\\"bls12_381_g2\\\\\\")))))))\\\\n    self.init(bls12_381_fr = sp.none,\\\\n              bls12_381_g1 = sp.none,\\\\n              bls12_381_g2 = sp.none,\\\\n              int = sp.none,\\\\n              mutez = sp.none,\\\\n              nat = sp.none)\\\\n\\\\n  @sp.entry_point\\\\n  def ep1(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data.nat = sp.some(sp.mul(1, 1))\\\\n\\\\n  @sp.entry_point\\\\n  def ep2(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data.int = sp.some(sp.mul(1, 1))\\\\n    self.data.int = sp.some(sp.mul(1, 1))\\\\n\\\\n  @sp.entry_point\\\\n  def ep3(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data.mutez = sp.some(sp.mul(sp.mutez(1), 1))\\\\n\\\\n  @sp.entry_point\\\\n  def ep4(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data.bls12_381_fr = sp.some(sp.mul(1, sp.bls12_381_fr('0x01')))\\\\n    self.data.bls12_381_fr = sp.some(sp.mul(1, sp.bls12_381_fr('0x01')))\\\\n    self.data.bls12_381_fr = sp.some(sp.mul(sp.bls12_381_fr('0x01'), sp.bls12_381_fr('0x01')))\\\\n\\\\n  @sp.entry_point\\\\n  def ep5(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data.bls12_381_g1 = sp.some(sp.mul(sp.bls12_381_g1('0x0572cbea904d67468808c8eb50a9450c9721db309128012543902d0ac358a62ae28f75bb8f1c7c42c39a8c5529bf0f4e166a9d8cabc673a322fda673779d8e3822ba3ecb8670e461f73bb9021d5fd76a4c56d9d4cd16bd1bba86881979749d28'), sp.bls12_381_fr('0x01')))\\\\n\\\\n  @sp.entry_point\\\\n  def ep6(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data.bls12_381_g2 = sp.some(sp.mul(sp.bls12_381_g2('0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb813fa4d4a0ad8b1ce186ed5061789213d993923066dddaf1040bc3ff59f825c78df74f2d75467e25e0f55f8a00fa030ed0d1b3cc2c7027888be51d9ef691d77bcb679afda66c73f17f9ee3837a55024f78c71363275a75d75d86bab79f74782aa'), sp.bls12_381_fr('0x01')))\\\\n\\\\nsp.add_compilation_target(\\\\\\"visualtez_compilation\\\\\\", Contract())\\"
}"
`;

exports[`Arithmetic expressions ShiftLeft 1`] = `
"
        (
            template_id (static_id 0 (\\"arithmetic.test.ts\\" 57))
            storage ()
            storage_type (\\"nat\\")
            messages ((ep1 True False False True (\\"arithmetic.test.ts\\" 59) ((set_type (params (\\"arithmetic.test.ts\\" 59)) \\"unit\\" (\\"arithmetic.test.ts\\" 61)) (set (data) (lsl (literal (nat 13) (\\"arithmetic.test.ts\\" 59)) (literal (nat 3) (\\"arithmetic.test.ts\\" 59)) (\\"arithmetic.test.ts\\" 59)) (\\"arithmetic.test.ts\\" 59)))))
            flags ()
            privates ()
            views ()
            entry_points_layout ()
            initial_metadata ()
            balance (literal (mutez 0) (\\"arithmetic.test.ts\\" 57))
        )
        "
`;

exports[`Arithmetic expressions ShiftLeft 2`] = `
"{
    \\"micheline\\": \\"parameter (unit %ep1);\\\\nstorage   nat;\\\\ncode\\\\n  {\\\\n    DROP;\\\\n    PUSH nat 3;\\\\n    PUSH nat 13;\\\\n    LSL;\\\\n    NIL operation;\\\\n    PAIR;\\\\n  };\\",
    \\"json\\": [
        {
            \\"prim\\": \\"storage\\",
            \\"args\\": [
                {
                    \\"prim\\": \\"nat\\"
                }
            ]
        },
        {
            \\"prim\\": \\"parameter\\",
            \\"args\\": [
                {
                    \\"prim\\": \\"unit\\",
                    \\"annots\\": [
                        \\"%ep1\\"
                    ]
                }
            ]
        },
        {
            \\"prim\\": \\"code\\",
            \\"args\\": [
                [
                    {
                        \\"prim\\": \\"DROP\\"
                    },
                    {
                        \\"prim\\": \\"PUSH\\",
                        \\"args\\": [
                            {
                                \\"prim\\": \\"nat\\"
                            },
                            {
                                \\"int\\": \\"3\\"
                            }
                        ]
                    },
                    {
                        \\"prim\\": \\"PUSH\\",
                        \\"args\\": [
                            {
                                \\"prim\\": \\"nat\\"
                            },
                            {
                                \\"int\\": \\"13\\"
                            }
                        ]
                    },
                    {
                        \\"prim\\": \\"LSL\\"
                    },
                    {
                        \\"prim\\": \\"NIL\\",
                        \\"args\\": [
                            {
                                \\"prim\\": \\"operation\\"
                            }
                        ]
                    },
                    {
                        \\"prim\\": \\"PAIR\\"
                    }
                ]
            ]
        }
    ],
    \\"smartpy\\": \\"import smartpy as sp\\\\n\\\\nclass Contract(sp.Contract):\\\\n  def __init__(self):\\\\n    self.init_type(sp.TNat)\\\\n\\\\n  @sp.entry_point\\\\n  def ep1(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data = 13 << 3\\\\n\\\\nsp.add_compilation_target(\\\\\\"visualtez_compilation\\\\\\", Contract())\\"
}"
`;

exports[`Arithmetic expressions ShiftRight 1`] = `
"
        (
            template_id (static_id 0 (\\"arithmetic.test.ts\\" 64))
            storage ()
            storage_type (\\"nat\\")
            messages ((ep1 True False False True (\\"arithmetic.test.ts\\" 67) ((set_type (params (\\"arithmetic.test.ts\\" 67)) \\"unit\\" (\\"arithmetic.test.ts\\" 70)) (set (data) (lsr (literal (nat 13) (\\"arithmetic.test.ts\\" 67)) (literal (nat 3) (\\"arithmetic.test.ts\\" 67)) (\\"arithmetic.test.ts\\" 67)) (\\"arithmetic.test.ts\\" 67)))))
            flags ()
            privates ()
            views ()
            entry_points_layout ()
            initial_metadata ()
            balance (literal (mutez 0) (\\"arithmetic.test.ts\\" 64))
        )
        "
`;

exports[`Arithmetic expressions ShiftRight 2`] = `
"{
    \\"micheline\\": \\"parameter (unit %ep1);\\\\nstorage   nat;\\\\ncode\\\\n  {\\\\n    DROP;\\\\n    PUSH nat 3;\\\\n    PUSH nat 13;\\\\n    LSR;\\\\n    NIL operation;\\\\n    PAIR;\\\\n  };\\",
    \\"json\\": [
        {
            \\"prim\\": \\"storage\\",
            \\"args\\": [
                {
                    \\"prim\\": \\"nat\\"
                }
            ]
        },
        {
            \\"prim\\": \\"parameter\\",
            \\"args\\": [
                {
                    \\"prim\\": \\"unit\\",
                    \\"annots\\": [
                        \\"%ep1\\"
                    ]
                }
            ]
        },
        {
            \\"prim\\": \\"code\\",
            \\"args\\": [
                [
                    {
                        \\"prim\\": \\"DROP\\"
                    },
                    {
                        \\"prim\\": \\"PUSH\\",
                        \\"args\\": [
                            {
                                \\"prim\\": \\"nat\\"
                            },
                            {
                                \\"int\\": \\"3\\"
                            }
                        ]
                    },
                    {
                        \\"prim\\": \\"PUSH\\",
                        \\"args\\": [
                            {
                                \\"prim\\": \\"nat\\"
                            },
                            {
                                \\"int\\": \\"13\\"
                            }
                        ]
                    },
                    {
                        \\"prim\\": \\"LSR\\"
                    },
                    {
                        \\"prim\\": \\"NIL\\",
                        \\"args\\": [
                            {
                                \\"prim\\": \\"operation\\"
                            }
                        ]
                    },
                    {
                        \\"prim\\": \\"PAIR\\"
                    }
                ]
            ]
        }
    ],
    \\"smartpy\\": \\"import smartpy as sp\\\\n\\\\nclass Contract(sp.Contract):\\\\n  def __init__(self):\\\\n    self.init_type(sp.TNat)\\\\n\\\\n  @sp.entry_point\\\\n  def ep1(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data = 13 >> 3\\\\n\\\\nsp.add_compilation_target(\\\\\\"visualtez_compilation\\\\\\", Contract())\\"
}"
`;

exports[`Arithmetic expressions Subtraction 1`] = `
"
        (
            template_id (static_id 0 (\\"arithmetic.test.ts\\" 137))
            storage ()
            storage_type ((record ((nat \\"int\\") (int \\"int\\") (mutez (option \\"mutez\\")) (timestamp \\"int\\")) (Some ((\\"nat\\") ((\\"int\\") ((\\"mutez\\") (\\"timestamp\\"))))) (\\"\\" -1)))
            messages ((ep1 True False False True (\\"arithmetic.test.ts\\" 147) ((set_type (params (\\"arithmetic.test.ts\\" 147)) \\"unit\\" (\\"arithmetic.test.ts\\" 161)) (set (attr (data) \\"nat\\" (\\"expression.ts\\" 28)) (sub (literal (nat 1) (\\"arithmetic.test.ts\\" 147)) (literal (nat 1) (\\"arithmetic.test.ts\\" 147)) (\\"arithmetic.test.ts\\" 147)) (\\"arithmetic.test.ts\\" 147)))) (ep2 True False False True (\\"arithmetic.test.ts\\" 150) ((set_type (params (\\"arithmetic.test.ts\\" 150)) \\"unit\\" (\\"arithmetic.test.ts\\" 161)) (set (attr (data) \\"int\\" (\\"expression.ts\\" 28)) (sub (literal (int 1) (\\"arithmetic.test.ts\\" 150)) (literal (int 1) (\\"arithmetic.test.ts\\" 150)) (\\"arithmetic.test.ts\\" 150)) (\\"arithmetic.test.ts\\" 150)))) (ep3 True False False True (\\"arithmetic.test.ts\\" 153) ((set_type (params (\\"arithmetic.test.ts\\" 153)) \\"unit\\" (\\"arithmetic.test.ts\\" 161)) (set (attr (data) \\"mutez\\" (\\"expression.ts\\" 28)) (sub (literal (mutez 1) (\\"arithmetic.test.ts\\" 153)) (literal (mutez 1) (\\"arithmetic.test.ts\\" 153)) (\\"arithmetic.test.ts\\" 153)) (\\"arithmetic.test.ts\\" 153)))) (ep4 True False False True (\\"arithmetic.test.ts\\" 156) ((set_type (params (\\"arithmetic.test.ts\\" 156)) \\"unit\\" (\\"arithmetic.test.ts\\" 161)) (set (attr (data) \\"timestamp\\" (\\"expression.ts\\" 28)) (sub (literal (timestamp 1) (\\"arithmetic.test.ts\\" 156)) (literal (timestamp 1) (\\"arithmetic.test.ts\\" 156)) (\\"arithmetic.test.ts\\" 156)) (\\"arithmetic.test.ts\\" 156)))))
            flags ()
            privates ()
            views ()
            entry_points_layout ()
            initial_metadata ()
            balance (literal (mutez 0) (\\"arithmetic.test.ts\\" 137))
        )
        "
`;

exports[`Arithmetic expressions Subtraction 2`] = `
"{
    \\"micheline\\": \\"parameter (or (or (unit %ep1) (unit %ep2)) (or (unit %ep3) (unit %ep4)));\\\\nstorage   (pair (int %nat) (pair (int %int) (pair (option %mutez mutez) (int %timestamp))));\\\\ncode\\\\n  {\\\\n    UNPAIR;\\\\n    IF_LEFT\\\\n      {\\\\n        IF_LEFT\\\\n          {\\\\n            DROP;\\\\n            PUSH nat 1;\\\\n            DUP;\\\\n            SUB;\\\\n            UPDATE 1;\\\\n          }\\\\n          {\\\\n            DROP;\\\\n            PUSH int 1;\\\\n            DUP;\\\\n            SUB;\\\\n            UPDATE 3;\\\\n          };\\\\n      }\\\\n      {\\\\n        IF_LEFT\\\\n          {\\\\n            DROP;\\\\n            PUSH mutez 1;\\\\n            DUP;\\\\n            SUB_MUTEZ;\\\\n            UPDATE 5;\\\\n          }\\\\n          {\\\\n            DROP;\\\\n            PUSH timestamp \\\\\\"1970-01-01T00:00:01Z\\\\\\";\\\\n            DUP;\\\\n            SUB;\\\\n            UPDATE 6;\\\\n          };\\\\n      };\\\\n    NIL operation;\\\\n    PAIR;\\\\n  };\\",
    \\"json\\": [
        {
            \\"prim\\": \\"storage\\",
            \\"args\\": [
                {
                    \\"prim\\": \\"pair\\",
                    \\"args\\": [
                        {
                            \\"prim\\": \\"int\\",
                            \\"annots\\": [
                                \\"%nat\\"
                            ]
                        },
                        {
                            \\"prim\\": \\"pair\\",
                            \\"args\\": [
                                {
                                    \\"prim\\": \\"int\\",
                                    \\"annots\\": [
                                        \\"%int\\"
                                    ]
                                },
                                {
                                    \\"prim\\": \\"pair\\",
                                    \\"args\\": [
                                        {
                                            \\"prim\\": \\"option\\",
                                            \\"args\\": [
                                                {
                                                    \\"prim\\": \\"mutez\\"
                                                }
                                            ],
                                            \\"annots\\": [
                                                \\"%mutez\\"
                                            ]
                                        },
                                        {
                                            \\"prim\\": \\"int\\",
                                            \\"annots\\": [
                                                \\"%timestamp\\"
                                            ]
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            \\"prim\\": \\"parameter\\",
            \\"args\\": [
                {
                    \\"prim\\": \\"or\\",
                    \\"args\\": [
                        {
                            \\"prim\\": \\"or\\",
                            \\"args\\": [
                                {
                                    \\"prim\\": \\"unit\\",
                                    \\"annots\\": [
                                        \\"%ep1\\"
                                    ]
                                },
                                {
                                    \\"prim\\": \\"unit\\",
                                    \\"annots\\": [
                                        \\"%ep2\\"
                                    ]
                                }
                            ]
                        },
                        {
                            \\"prim\\": \\"or\\",
                            \\"args\\": [
                                {
                                    \\"prim\\": \\"unit\\",
                                    \\"annots\\": [
                                        \\"%ep3\\"
                                    ]
                                },
                                {
                                    \\"prim\\": \\"unit\\",
                                    \\"annots\\": [
                                        \\"%ep4\\"
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            \\"prim\\": \\"code\\",
            \\"args\\": [
                [
                    {
                        \\"prim\\": \\"UNPAIR\\"
                    },
                    {
                        \\"prim\\": \\"IF_LEFT\\",
                        \\"args\\": [
                            [
                                {
                                    \\"prim\\": \\"IF_LEFT\\",
                                    \\"args\\": [
                                        [
                                            {
                                                \\"prim\\": \\"DROP\\"
                                            },
                                            {
                                                \\"prim\\": \\"PUSH\\",
                                                \\"args\\": [
                                                    {
                                                        \\"prim\\": \\"nat\\"
                                                    },
                                                    {
                                                        \\"int\\": \\"1\\"
                                                    }
                                                ]
                                            },
                                            {
                                                \\"prim\\": \\"DUP\\"
                                            },
                                            {
                                                \\"prim\\": \\"SUB\\"
                                            },
                                            {
                                                \\"prim\\": \\"UPDATE\\",
                                                \\"args\\": [
                                                    {
                                                        \\"int\\": \\"1\\"
                                                    }
                                                ]
                                            }
                                        ],
                                        [
                                            {
                                                \\"prim\\": \\"DROP\\"
                                            },
                                            {
                                                \\"prim\\": \\"PUSH\\",
                                                \\"args\\": [
                                                    {
                                                        \\"prim\\": \\"int\\"
                                                    },
                                                    {
                                                        \\"int\\": \\"1\\"
                                                    }
                                                ]
                                            },
                                            {
                                                \\"prim\\": \\"DUP\\"
                                            },
                                            {
                                                \\"prim\\": \\"SUB\\"
                                            },
                                            {
                                                \\"prim\\": \\"UPDATE\\",
                                                \\"args\\": [
                                                    {
                                                        \\"int\\": \\"3\\"
                                                    }
                                                ]
                                            }
                                        ]
                                    ]
                                }
                            ],
                            [
                                {
                                    \\"prim\\": \\"IF_LEFT\\",
                                    \\"args\\": [
                                        [
                                            {
                                                \\"prim\\": \\"DROP\\"
                                            },
                                            {
                                                \\"prim\\": \\"PUSH\\",
                                                \\"args\\": [
                                                    {
                                                        \\"prim\\": \\"mutez\\"
                                                    },
                                                    {
                                                        \\"int\\": \\"1\\"
                                                    }
                                                ]
                                            },
                                            {
                                                \\"prim\\": \\"DUP\\"
                                            },
                                            {
                                                \\"prim\\": \\"SUB_MUTEZ\\"
                                            },
                                            {
                                                \\"prim\\": \\"UPDATE\\",
                                                \\"args\\": [
                                                    {
                                                        \\"int\\": \\"5\\"
                                                    }
                                                ]
                                            }
                                        ],
                                        [
                                            {
                                                \\"prim\\": \\"DROP\\"
                                            },
                                            {
                                                \\"prim\\": \\"PUSH\\",
                                                \\"args\\": [
                                                    {
                                                        \\"prim\\": \\"timestamp\\"
                                                    },
                                                    {
                                                        \\"string\\": \\"1970-01-01T00:00:01Z\\"
                                                    }
                                                ]
                                            },
                                            {
                                                \\"prim\\": \\"DUP\\"
                                            },
                                            {
                                                \\"prim\\": \\"SUB\\"
                                            },
                                            {
                                                \\"prim\\": \\"UPDATE\\",
                                                \\"args\\": [
                                                    {
                                                        \\"int\\": \\"6\\"
                                                    }
                                                ]
                                            }
                                        ]
                                    ]
                                }
                            ]
                        ]
                    },
                    {
                        \\"prim\\": \\"NIL\\",
                        \\"args\\": [
                            {
                                \\"prim\\": \\"operation\\"
                            }
                        ]
                    },
                    {
                        \\"prim\\": \\"PAIR\\"
                    }
                ]
            ]
        }
    ],
    \\"smartpy\\": \\"import smartpy as sp\\\\n\\\\nclass Contract(sp.Contract):\\\\n  def __init__(self):\\\\n    self.init_type(sp.TRecord(int = sp.TInt, mutez = sp.TOption(sp.TMutez), nat = sp.TInt, timestamp = sp.TInt).layout((\\\\\\"nat\\\\\\", (\\\\\\"int\\\\\\", (\\\\\\"mutez\\\\\\", \\\\\\"timestamp\\\\\\")))))\\\\n\\\\n  @sp.entry_point\\\\n  def ep1(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data.nat = 1 - 1\\\\n\\\\n  @sp.entry_point\\\\n  def ep2(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data.int = 1 - 1\\\\n\\\\n  @sp.entry_point\\\\n  def ep3(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data.mutez = sp.mutez(1) - sp.mutez(1)\\\\n\\\\n  @sp.entry_point\\\\n  def ep4(self, params):\\\\n    sp.set_type(params, sp.TUnit)\\\\n    self.data.timestamp = sp.timestamp(1) - sp.timestamp(1)\\\\n\\\\nsp.add_compilation_target(\\\\\\"visualtez_compilation\\\\\\", Contract())\\"
}"
`;
