<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@tezwell/smartts-sdk</title><meta name="description" content="Documentation for @tezwell/smartts-sdk"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@tezwell/smartts-sdk</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1> @tezwell/smartts-sdk</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#smartts-sdk" id="smartts-sdk" style="color: inherit; text-decoration: none;">
  <h1>SmartTS SDK</h1>
</a>
<p><img src="https://github.com/RomarQ/smartts-sdk/workflows/CI/badge.svg" alt="CI">
<a href="https://coveralls.io/github/RomarQ/smartts-sdk?branch=main"><img src="https://coveralls.io/repos/github/RomarQ/smartts-sdk/badge.svg?branch=main" alt="Coverage Status"></a></p>
<p><code>SmartTS SDK</code> is a metaprogramming framework for building Tezos smart contracts from Javascript. It uses the SmartPy compiler.</p>
<hr/>
<hr/>


<a href="#general-documentation" id="general-documentation" style="color: inherit; text-decoration: none;">
  <h2><a href="https://romarq.github.io/smartts-sdk">General Documentation</a></h2>
</a>

<a href="#api-documentation-typedoc" id="api-documentation-typedoc" style="color: inherit; text-decoration: none;">
  <h2><a href="https://romarq.github.io/smartts-sdk/api">API Documentation (TypeDoc)</a></h2>
</a>
<hr/>
<hr/>


<a href="#using-the-package" id="using-the-package" style="color: inherit; text-decoration: none;">
  <h3>Using the package</h3>
</a>

<a href="#build-and-compile-a-contract" id="build-and-compile-a-contract" style="color: inherit; text-decoration: none;">
  <h4>Build and compile a contract</h4>
</a>
<pre><code class="language-js"><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">Equal</span><span class="hl-1">, </span><span class="hl-2">Contract</span><span class="hl-1">, </span><span class="hl-2">EntryPoint</span><span class="hl-1">,</span><span class="hl-2">GetSender</span><span class="hl-1">, </span><span class="hl-2">NewVariable</span><span class="hl-1">, </span><span class="hl-2">Require</span><span class="hl-1">, </span><span class="hl-2">SetValue</span><span class="hl-1">, </span><span class="hl-2">TNat</span><span class="hl-1">, </span><span class="hl-2">ContractStorage</span><span class="hl-1">, </span><span class="hl-2">GetVariable</span><span class="hl-1">, </span><span class="hl-2">Address</span><span class="hl-1">, </span><span class="hl-2">Nat</span><span class="hl-1">, </span><span class="hl-2">String</span><span class="hl-1"> } = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;@tezwell/smartts-sdk&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">SmartML</span><span class="hl-1"> = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;@tezwell/smartts-sdk/compiler&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">contract</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">Contract</span><span class="hl-1">()</span><br/><span class="hl-1">    .</span><span class="hl-3">setStorage</span><span class="hl-1">(</span><span class="hl-3">Nat</span><span class="hl-1">(</span><span class="hl-5">0</span><span class="hl-1">))</span><br/><span class="hl-1">    .</span><span class="hl-3">addEntrypoint</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">EntryPoint</span><span class="hl-1">(</span><span class="hl-4">&#39;ep1&#39;</span><span class="hl-1">).</span><span class="hl-3">setInputType</span><span class="hl-1">(</span><span class="hl-3">TNat</span><span class="hl-1">()).</span><span class="hl-3">code</span><span class="hl-1">((</span><span class="hl-6">arg</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> [</span><br/><span class="hl-1">            </span><span class="hl-7">// Define a variable named &quot;an_address&quot;</span><br/><span class="hl-1">            </span><span class="hl-3">NewVariable</span><span class="hl-1">(</span><span class="hl-4">&#39;an_address&#39;</span><span class="hl-1">, </span><span class="hl-3">Address</span><span class="hl-1">(</span><span class="hl-4">&#39;KT1R9M3MDffw7qSVSnbJs46aMC9YzzZz3aGT&#39;</span><span class="hl-1">)),</span><br/><span class="hl-1">            </span><span class="hl-7">// Require sender to be equal to variable &quot;an_address&quot;, otherwise fail with &quot;Not Admin!&quot;</span><br/><span class="hl-1">            </span><span class="hl-3">Require</span><span class="hl-1">(</span><span class="hl-3">Equal</span><span class="hl-1">(</span><span class="hl-3">GetVariable</span><span class="hl-1">(</span><span class="hl-4">&#39;an_address&#39;</span><span class="hl-1">), </span><span class="hl-3">GetSender</span><span class="hl-1">()), </span><span class="hl-8">String</span><span class="hl-1">(</span><span class="hl-4">&#39;Not Admin!&#39;</span><span class="hl-1">)),</span><br/><span class="hl-1">            </span><span class="hl-7">// Replace the storage value with entry point argument</span><br/><span class="hl-1">            </span><span class="hl-3">SetValue</span><span class="hl-1">(</span><span class="hl-3">ContractStorage</span><span class="hl-1">(), </span><span class="hl-6">arg</span><span class="hl-1">),</span><br/><span class="hl-1">        ]),</span><br/><span class="hl-1">    );</span><br/><br/><span class="hl-6">SmartML</span><span class="hl-1">.</span><span class="hl-3">compileContract</span><span class="hl-1">(</span><span class="hl-6">contract</span><span class="hl-1">);</span><br/><span class="hl-7">// Result:</span><br/><span class="hl-7">//    {</span><br/><span class="hl-7">//        micheline: &#39;parameter ...; storage ...; code { ... };&#39;,</span><br/><span class="hl-7">//        json: [</span><br/><span class="hl-7">//          { prim: &#39;storage&#39;, args: [...] },</span><br/><span class="hl-7">//          { prim: &#39;parameter&#39;, args: [...] },</span><br/><span class="hl-7">//          { prim: &#39;code&#39;, args: [...] },</span><br/><span class="hl-7">//        ]</span><br/><span class="hl-7">//    }</span>
</code></pre>

<a href="#build-and-compile-a-lambda" id="build-and-compile-a-lambda" style="color: inherit; text-decoration: none;">
  <h4>Build and compile a lambda</h4>
</a>
<pre><code class="language-js"><span class="hl-0">const</span><span class="hl-1"> { </span><span class="hl-2">Comparison</span><span class="hl-1">, </span><span class="hl-2">Lambda</span><span class="hl-1">, </span><span class="hl-2">If</span><span class="hl-1">, </span><span class="hl-2">Return</span><span class="hl-1">, </span><span class="hl-2">String</span><span class="hl-1">, </span><span class="hl-2">Nat</span><span class="hl-1"> } = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;@tezwell/smartts-sdk&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">SmartML</span><span class="hl-1"> = </span><span class="hl-3">require</span><span class="hl-1">(</span><span class="hl-4">&#39;@tezwell/smartts-sdk/compiler&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-7">// A Lambda that returns &quot;YES&quot; if the argument is greater than or equal to Nat(10), returns &quot;NO&quot; otherwise.</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">lambda</span><span class="hl-1"> = </span><span class="hl-3">Lambda</span><span class="hl-1">()</span><br/><span class="hl-1">    .</span><span class="hl-3">code</span><span class="hl-1">((</span><span class="hl-6">arg</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> [</span><br/><span class="hl-1">        </span><span class="hl-3">If</span><span class="hl-1">(</span><span class="hl-6">Comparison</span><span class="hl-1">.</span><span class="hl-3">GreaterThanOrEqual</span><span class="hl-1">(</span><span class="hl-6">arg</span><span class="hl-1">, </span><span class="hl-3">Nat</span><span class="hl-1">(</span><span class="hl-5">10</span><span class="hl-1">)))</span><br/><span class="hl-1">            .</span><span class="hl-3">Then</span><span class="hl-1">([</span><span class="hl-3">Return</span><span class="hl-1">(</span><span class="hl-8">String</span><span class="hl-1">(</span><span class="hl-4">&#39;YES&#39;</span><span class="hl-1">))])</span><br/><span class="hl-1">            .</span><span class="hl-3">Else</span><span class="hl-1">([</span><span class="hl-3">Return</span><span class="hl-1">(</span><span class="hl-8">String</span><span class="hl-1">(</span><span class="hl-4">&#39;NO&#39;</span><span class="hl-1">))]),</span><br/><span class="hl-1">    ]);</span><br/><br/><span class="hl-6">SmartML</span><span class="hl-1">.</span><span class="hl-3">compileValue</span><span class="hl-1">(</span><span class="hl-6">lambda</span><span class="hl-1">);</span><br/><span class="hl-7">// Result:</span><br/><span class="hl-7">//    {</span><br/><span class="hl-7">//        micheline: &#39;{ PUSH nat 1; SWAP; COMPARE; GE; IF { PUSH string &quot;YES&quot; } { PUSH string &quot;NO&quot; } }&#39;,</span><br/><span class="hl-7">//        json: [</span><br/><span class="hl-7">//            {</span><br/><span class="hl-7">//                prim: &quot;PUSH&quot;,</span><br/><span class="hl-7">//                args: [</span><br/><span class="hl-7">//                    {</span><br/><span class="hl-7">//                        prim: &quot;nat&quot;</span><br/><span class="hl-7">//                    },</span><br/><span class="hl-7">//                    {</span><br/><span class="hl-7">//                        int: &quot;10&quot;</span><br/><span class="hl-7">//                    }</span><br/><span class="hl-7">//                ]</span><br/><span class="hl-7">//            },</span><br/><span class="hl-7">//            {</span><br/><span class="hl-7">//                prim: &quot;SWAP&quot;</span><br/><span class="hl-7">//            },</span><br/><span class="hl-7">//            {</span><br/><span class="hl-7">//                prim: &quot;COMPARE&quot;</span><br/><span class="hl-7">//            },</span><br/><span class="hl-7">//            {</span><br/><span class="hl-7">//                prim: &quot;GE&quot;</span><br/><span class="hl-7">//            },</span><br/><span class="hl-7">//            {</span><br/><span class="hl-7">//                prim: &quot;IF&quot;,</span><br/><span class="hl-7">//                args: [</span><br/><span class="hl-7">//                    [</span><br/><span class="hl-7">//                        {</span><br/><span class="hl-7">//                            prim: &quot;PUSH&quot;,</span><br/><span class="hl-7">//                            args: [</span><br/><span class="hl-7">//                                {</span><br/><span class="hl-7">//                                    prim: &quot;string&quot;</span><br/><span class="hl-7">//                                },</span><br/><span class="hl-7">//                                {</span><br/><span class="hl-7">//                                    string: &quot;YES&quot;</span><br/><span class="hl-7">//                                }</span><br/><span class="hl-7">//                            ]</span><br/><span class="hl-7">//                        }</span><br/><span class="hl-7">//                    ],</span><br/><span class="hl-7">//                    [</span><br/><span class="hl-7">//                        {</span><br/><span class="hl-7">//                            prim: &quot;PUSH&quot;,</span><br/><span class="hl-7">//                            args: [</span><br/><span class="hl-7">//                                {</span><br/><span class="hl-7">//                                    prim: &quot;string&quot;</span><br/><span class="hl-7">//                                },</span><br/><span class="hl-7">//                                {</span><br/><span class="hl-7">//                                    string: &quot;NO&quot;</span><br/><span class="hl-7">//                                }</span><br/><span class="hl-7">//                            ]</span><br/><span class="hl-7">//                        }</span><br/><span class="hl-7">//                    ]</span><br/><span class="hl-7">//                ]</span><br/><span class="hl-7">//            }</span><br/><span class="hl-7">//        ]</span><br/><span class="hl-7">//    }</span>
</code></pre>

<a href="#about" id="about" style="color: inherit; text-decoration: none;">
  <h2><strong>About</strong></h2>
</a>
<p>Project was supported by <strong>Tezos Foundation</strong>.</p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Modules</a></li><li class=" tsd-kind-module"><a href="modules/compiler.html">compiler</a></li><li class=" tsd-kind-module"><a href="modules/core.html">core</a></li><li class=" tsd-kind-module"><a href="modules/expression.html">expression</a></li><li class=" tsd-kind-module"><a href="modules/statement.html">statement</a></li><li class=" tsd-kind-module"><a href="modules/type.html">type</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li><li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li><li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>